<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="hello world">
<meta property="og:type" content="website">
<meta property="og:title" content="Bruce&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="Bruce&#39;s Blog">
<meta property="og:description" content="hello world">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Bruce&#39;s Blog">
<meta name="twitter:description" content="hello world">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/2/"/>





  <title>Bruce's Blog</title>
  














</head>


<script type="text/javascript"
color="0,0,255" opacity='0.7' zIndex="-2" count="99" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>


<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <a href="https://github.com/a1049145827"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>
    
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Bruce's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Hi~</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/31/è®¿é—®GitHubå¾ˆæ…¢çš„é—®é¢˜è§£å†³/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coder bruce">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bruce's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/31/è®¿é—®GitHubå¾ˆæ…¢çš„é—®é¢˜è§£å†³/" itemprop="url">è®¿é—®GitHubå¾ˆæ…¢çš„é—®é¢˜è§£å†³</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-07-31T15:35:00+08:00">
                2018-07-31
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOSå¼€å‘/" itemprop="url" rel="index">
                    <span itemprop="name">iOSå¼€å‘</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æœ€è¿‘åŠå…¬ç½‘ç»œä» GitHub ä¸Šæ‹‰å–ä»£ç é€Ÿåº¦å·¨æ…¢ï¼Œå¾ˆå¤šæ—¶å€™éƒ½æ˜¯ç›´æ¥è¿æ¥é”™è¯¯ã€‚</p>
<p>ç™¾åº¦äº†ä¸€ä¸‹ï¼Œè¯´æ˜¯ Github çš„æŸäº›åŸŸåçš„ DNS è§£æè¢«æ±¡æŸ“äº†ã€‚è§£å†³æ–¹æ¡ˆå°±æ˜¯æŒ‚ä»£ç†ï¼ˆVPNï¼‰ï¼Œæˆ–è€…ç›´æ¥ä¿®æ”¹ hostsï¼Œç»•è¿‡ DNS è§£æã€‚</p>
<p>æˆ‘ç”¨äº† VPN ä¹‹åï¼Œè¿˜æ˜¯ä¼šå‡ºç°è®¿é—®å¾ˆæ…¢çš„é—®é¢˜ï¼Œäºæ˜¯è¯•äº†ç¬¬äºŒç§æ–¹æ¡ˆï¼Œç›®å‰æ˜¯å¯ä»¥æ­£å¸¸è®¿é—®çš„ã€‚</p>
<p>å…·ä½“æ–¹æ³•å°±æ˜¯å°†ä¸‹é¢ä»£ç ç›´æ¥å†™å…¥ hosts æ–‡ä»¶é‡Œã€‚Mac çš„ hosts æ–‡ä»¶è·¯å¾„ä¸º /etc/hosts ã€‚Windows çš„æ˜¯ C:\Windows\System32\Drivers\etc\hosts ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># GitHub Start</span></span><br><span class="line">192.30.253.112 github.com</span><br><span class="line">192.30.253.119 gist.github.com</span><br><span class="line">151.101.100.133 assets-cdn.github.com</span><br><span class="line">151.101.100.133 raw.githubusercontent.com</span><br><span class="line">151.101.100.133 gist.githubusercontent.com</span><br><span class="line">151.101.100.133 cloud.githubusercontent.com</span><br><span class="line">151.101.100.133 camo.githubusercontent.com</span><br><span class="line">151.101.100.133 avatars0.githubusercontent.com</span><br><span class="line">151.101.100.133 avatars1.githubusercontent.com</span><br><span class="line">151.101.100.133 avatars2.githubusercontent.com</span><br><span class="line">151.101.100.133 avatars3.githubusercontent.com</span><br><span class="line">151.101.100.133 avatars4.githubusercontent.com</span><br><span class="line">151.101.100.133 avatars5.githubusercontent.com</span><br><span class="line">151.101.100.133 avatars6.githubusercontent.com</span><br><span class="line">151.101.100.133 avatars7.githubusercontent.com</span><br><span class="line">151.101.100.133 avatars8.githubusercontent.com</span><br><span class="line"><span class="comment"># GitHub End</span></span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    
    <div>
    
    <div>
    
    </div>

    <div>
      
    </div>
    
    

    

    
    
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/27/è®°ä¸€æ¬¡-IQKeyboardManager-å¤±æ•ˆå¯¼è‡´è¾“å…¥æ¡†è¢«é”®ç›˜é®æŒ¡çš„é—®é¢˜/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coder bruce">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bruce's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/27/è®°ä¸€æ¬¡-IQKeyboardManager-å¤±æ•ˆå¯¼è‡´è¾“å…¥æ¡†è¢«é”®ç›˜é®æŒ¡çš„é—®é¢˜/" itemprop="url">è®°ä¸€æ¬¡ IQKeyboardManager å¤±æ•ˆå¯¼è‡´è¾“å…¥æ¡†è¢«é”®ç›˜é®æŒ¡çš„é—®é¢˜</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-07-27T09:32:12+08:00">
                2018-07-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOSå¼€å‘/" itemprop="url" rel="index">
                    <span itemprop="name">iOSå¼€å‘</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æœ€è¿‘å¼€å‘çš„é¡µé¢ä¸­æœ‰ä¸€ä¸ªè¾“å…¥è®¢å•å·çš„åŠŸèƒ½ï¼Œç”±äºäº§å“è®¾è®¡æ—¶å°†è¾“å…¥æ¡†æ”¾åœ¨é¡µé¢é ä¸‹çš„ä½ç½®ï¼Œæ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç”¨æˆ·éœ€è¦è¾“å…¥æ—¶ï¼Œå¼¹å‡ºçš„é”®ç›˜ä¼šå°†å…¶é®æŒ¡ã€‚ä½†æ˜¯é¡¹ç›®ä¸­å·²ç»å¼•å…¥äº† IQKeyboardManager ç¬¬ä¸‰æ–¹åº“æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆå®ƒæ²¡æœ‰èµ·ä½œç”¨ï¼Ÿ</p>
<h4 id="ä¿®å¤bugçš„ç¬¬ä¸€æ­¥ï¼š"><a href="#ä¿®å¤bugçš„ç¬¬ä¸€æ­¥ï¼š" class="headerlink" title="ä¿®å¤bugçš„ç¬¬ä¸€æ­¥ï¼š"></a>ä¿®å¤bugçš„ç¬¬ä¸€æ­¥ï¼š</h4><p>æ€€ç–‘æ˜¯é…ç½®ä¸å¯¹ï¼Œç»è¿‡æŸ¥é˜…èµ„æ–™å‘ç°ï¼Œåœ¨é»˜è®¤é…ç½®ä¸‹ IQKeyboardManager å°±ä¼šèµ·ä½œç”¨ï¼Œæ— éœ€ç‰¹æ®Šé…ç½®ã€‚</p>
<h4 id="ç¬¬äºŒæ­¥ï¼š"><a href="#ç¬¬äºŒæ­¥ï¼š" class="headerlink" title="ç¬¬äºŒæ­¥ï¼š"></a>ç¬¬äºŒæ­¥ï¼š</h4><p>å‘ç°ç‚¹å‡»ç­›é€‰æ—¶ï¼Œå¼¹å‡ºçš„è§†å›¾ç›´æ¥åŠ åœ¨äº† keyWindow ä¸Šï¼Œç»è¿‡ä¿®æ”¹ï¼Œå°†å…¶æ”¾åœ¨å½“å‰æ§åˆ¶å™¨çš„å¯¼èˆªæ§åˆ¶å™¨çš„ View ä¸Šï¼Œå‘ç°å¶å°”å¯ä»¥ä¸é®æŒ¡é”®ç›˜ã€‚ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§çŠ¶å†µï¼ŸæŒç»­è·Ÿè¿›ï¼Œåœ¨ IQKeyboardManager æ ¸å¿ƒä»£ç ä¸­è¿›è¡Œæ–­ç‚¹è°ƒè¯•ï¼Œå‘ç° IQKeyboardManager ä¼šæŸ¥æ‰¾æ–‡æœ¬è¾“å…¥æ¡†æ§ä»¶æ‰€åœ¨çš„ Controller ï¼Œè€Œä¸”è¿˜ä¼šæŸ¥æ‰¾æ–‡æœ¬è¾“å…¥æ¡†æ§ä»¶æ˜¯å¦å­˜åœ¨äº ScrollView åŠå…¶å­ç±»ä¸­ã€‚å¦‚æœæœ‰ ScrollView ï¼Œä¼šæ”¹å˜ ScrollView çš„ ContentOffset æ¥é¿å…è¾“å…¥æ¡†è¢«é”®ç›˜é®æŒ¡ã€‚</p>
<h4 id="ç¬¬ä¸‰æ­¥ï¼š"><a href="#ç¬¬ä¸‰æ­¥ï¼š" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼š"></a>ç¬¬ä¸‰æ­¥ï¼š</h4><p>æŸ¥çœ‹ ScrollView é…ç½®æ˜¯å¦å¼‚å¸¸ï¼Œé¡¹ç›®ä»£ç ä¸­å¹¶æœªå‘ç° ScrollView æœ‰é…ç½®å¼‚å¸¸çš„æƒ…å†µï¼Œæ— å¥ˆåªå¥½ç»§ç»­æ–­ç‚¹è°ƒè¯•ï¼Œå‘ç°ä¸€ä¸ªè§„å¾‹ï¼šå½“è¾“å…¥æ¡†è¢«é®æŒ¡æ—¶ï¼ŒIQKeyboardManager ä¸­è·å–åˆ° ScrollView çš„ ContentSize æ€»æ˜¯ {0, 0}ï¼Œå›åˆ°é¡¹ç›®ä»£ç é‡Œå‘ç°åœ¨å¤§å±å¹•æ‰‹æœºä¸Šç¡®å®æ²¡æœ‰è®¾ç½® ContentSize å±æ€§ï¼Œå°å±å¹•æ‰‹æœºä¸Šæ‰ä¼šé…ç½®è¿™ä¸ªå±æ€§ã€‚åœ¨ä»£ç ä¸­è®¾ç½®ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒScrollView çš„ ContentSize ç­‰äºå…¶ Sizeï¼Œé—®é¢˜è§£å†³ã€‚</p>
<h4 id="å¤‡æ³¨ï¼š"><a href="#å¤‡æ³¨ï¼š" class="headerlink" title="å¤‡æ³¨ï¼š"></a>å¤‡æ³¨ï¼š</h4><p>å¼€å‘ç¯å¢ƒï¼šXcode 9.4.1ï¼ŒiOS 12 Public beta 3ï¼ŒiPhone 6s Plus ï¼ˆä¸çŸ¥æ­¤bugå‡ºç°æ˜¯å¦å’Œå¼€å‘ç¯å¢ƒæœ‰å…³ï¼‰</p>

          
        
      
    </div>
    
    
    
    <div>
    
    <div>
    
    </div>

    <div>
      
    </div>
    
    

    

    
    
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/25/Swiftå®ç°å­—ç¬¦ä¸²å€’åºæ’åˆ—/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coder bruce">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bruce's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/25/Swiftå®ç°å­—ç¬¦ä¸²å€’åºæ’åˆ—/" itemprop="url">Swiftå®ç°å­—ç¬¦ä¸²å€’åºæ’åˆ—ï¼ŒStringå­—ç¬¦ä¸²åè½¬</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-07-25T09:11:24+08:00">
                2018-07-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOSå¼€å‘/" itemprop="url" rel="index">
                    <span itemprop="name">iOSå¼€å‘</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>ï¼ˆ2018.7.30æ›´æ–°ï¼‰</strong><br>æœ€è¿‘åœ¨çœ‹ Swift çš„ä¸€ç¯‡ <a href="https://juejin.im/post/5ab4b2a66fb9a028e33b60d6" target="_blank" rel="noopener">åšå®¢</a> çš„æ—¶å€™ï¼Œå‘ç°äº†ä¸€ä¸ªç¥çº§ APIï¼šreverse()ï¼Œè¿™ä¸ªå‡½æ•°ç”¨æ¥åè½¬ä¸€ä¸ªåºåˆ—ï¼ŒSwift4 ä¸­ String åšäº†ä¸€äº›è°ƒæ•´ã€‚æˆ‘ä»¬å¯ä»¥ç›´æ¥å°† String ä½œä¸ºä¸€ä¸ªåºåˆ—è¿›è¡Œåè½¬ï¼Œç„¶åä½¿ç”¨ String çš„ä¾¿åˆ©åˆå§‹åŒ–æ–¹æ³•å°†åè½¬åçš„åºåˆ—è½¬ä¸º String ç±»å‹ï¼Œæ•´ä¸ªè¿‡ç¨‹åªéœ€è¦ä¸€è¡Œä»£ç ï¼Œè€Œä¸”æ€§èƒ½æ¯”æˆ‘ä»¬è‡ªè¡Œå°è£…æ–¹æ³•è¦é«˜ä¸å°‘ï¼Œå¦‚æœä½ æ­£åœ¨æŸ¥æ‰¾ Swift ä¸­åè½¬å­—ç¬¦ä¸²çš„æ–¹æ³•ï¼Œè¯·çœ‹ä¸‹é¢ç¤ºä¾‹ä»£ç ã€‚ç„¶åå°±ä¸å¿…å†å¾€ä¸‹çœ‹äº†ã€‚ã€‚ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> abc: <span class="type">String</span> = <span class="string">"abc"</span></span><br><span class="line"><span class="built_in">print</span>(<span class="type">String</span>(abc.reversed()))</span><br><span class="line"><span class="comment">// cba</span></span><br></pre></td></tr></table></figure>
<p>ã€€<br>æœ€è¿‘åœ¨å·¥ä½œçš„æ—¶å€™ï¼Œé‡åˆ°ä¸€ä¸ªéœ€æ±‚ï¼Œå¸Œæœ›èƒ½å°†å­—ç¬¦ä¸²å€’åºæ’åˆ—å¹¶è¾“å‡ºã€‚</p>
<p>å…ˆæ¥çœ‹ä¸€ä¸‹OCçš„å®ç°æ–¹å¼ï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å­—ç¬¦ä¸²å€’åº è¾“å…¥"1234" è¾“å‡º"4321"</span></span><br><span class="line">- (<span class="built_in">NSString</span> *)invertString:(<span class="built_in">NSString</span> *)str &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">NSMutableString</span> *newString = [<span class="built_in">NSMutableString</span> string];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.length; i ++) &#123;</span><br><span class="line"></span><br><span class="line">        [newString appendString:[str substringWithRange:<span class="built_in">NSMakeRange</span>(str.length-i<span class="number">-1</span>, <span class="number">1</span>)]];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> newString;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å•è¯é€†åº è¾“å…¥"hello world" è¾“å‡º"world hello"</span></span><br><span class="line">- (<span class="built_in">NSString</span> *)invertWord:(<span class="built_in">NSString</span> *)str &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">NSArray</span> *stringArr = [str componentsSeparatedByString:<span class="string">@" "</span>];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">NSMutableArray</span> *newStringArr = [<span class="built_in">NSMutableArray</span> array];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; stringArr.count; i ++) &#123;</span><br><span class="line"></span><br><span class="line">        [newStringArr addObject:stringArr[stringArr.count - i - <span class="number">1</span>]];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">NSString</span> *string = [newStringArr componentsJoinedByString:<span class="string">@" "</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> string;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ã€€<br>æå®šä¹‹åï¼Œæˆ‘çµæœºä¸€åŠ¨ï¼Œåˆæœ‰å¥½äº›å¤©æ²¡æœ‰ç¢° Swift äº†ï¼Œè¿™æ ·ä¸‹å»å²‚ä¸æ˜¯è¦è’åºŸï¼Ÿèµ¶ç´§æ‰“å¼€ Playgroundï¼Œç”¨ Swift å®ç°ä¸€æ³¢ã€‚</p>
<p>å¥½å§ï¼Œæˆ‘æ‰¿è®¤æˆ‘æ‡’ç™Œå‘ä½œäº†ï¼Œæ‰“å¼€ <a href="https://objectivec2swift.com/#/converter/" target="_blank" rel="noopener">objectivec2swift.com</a> ï¼Œå…ˆæ¥ä¸ªè‡ªåŠ¨è½¬æ¢ï¼Œçœ‹çœ‹éƒ½å‘ç”Ÿäº†å“ªäº›å˜åŒ–ï¼Œç»“æœå¾ˆå¿«å°±å‡ºæ¥äº†ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å­—ç¬¦ä¸²å€’åº è¾“å…¥"1234" è¾“å‡º"4321"</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">invertString</span><span class="params">(<span class="number">_</span> str: String?)</span></span> -&gt; <span class="type">String</span>? &#123;</span><br><span class="line">    <span class="keyword">var</span> newString = <span class="string">""</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;(str?.<span class="built_in">count</span> ?? <span class="number">0</span>) &#123;</span><br><span class="line">        newString += (str <span class="keyword">as</span> <span class="type">NSString</span>?)?.substring(with: <span class="type">NSRange</span>(location: (str?.<span class="built_in">count</span> ?? <span class="number">0</span>) - i - <span class="number">1</span>, length: <span class="number">1</span>)) ?? <span class="string">""</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> newString</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å•è¯é€†åº è¾“å…¥"hello world" è¾“å‡º"world hello"</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">invertWord</span><span class="params">(<span class="number">_</span> str: String?)</span></span> -&gt; <span class="type">String</span>? &#123;</span><br><span class="line">    <span class="keyword">let</span> stringArr = str?.components(separatedBy: <span class="string">" "</span>)</span><br><span class="line">    <span class="keyword">var</span> newStringArr: [<span class="type">AnyHashable</span>] = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;(stringArr?.<span class="built_in">count</span> ?? <span class="number">0</span>) &#123;</span><br><span class="line">        newStringArr.append(stringArr?[(stringArr?.<span class="built_in">count</span> ?? <span class="number">0</span>) - i - <span class="number">1</span>])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> string = newStringArr.joined(separator: <span class="string">" "</span>)</span><br><span class="line">    <span class="keyword">return</span> string</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ã€€<br>ä¸è¿‡å°†ä»£ç æ‹·è´åˆ° Playgroundï¼ˆXcode10 beta4ï¼‰é‡Œé¢ï¼Œä»£ç æ˜¯æ— æ³•ç¼–è¯‘é€šè¿‡çš„ã€‚è€Œä¸”ç¿»è¯‘çš„ä»£ç é‡Œï¼Œæœ‰å¾ˆå¤šæ¡¥æ¥ OC çš„åœ°æ–¹ï¼Œè¿™ç®€ç›´æ˜¯è¦é€¼æ­» Swifter å¼ºè¿«ç—‡å•Šï¼</p>
<p>é¢å¯¹è¿™ç§çŠ¶å†µï¼Œè‚¯å®šæ˜¯ä¸èƒ½è½»æ˜“è®¤è¾“æ»´ï¼Œæ¥å§ï¼Œæ‰‹åŠ¨æ¨¡å¼èµ°èµ·ã€‚ä¸€æ®µçœ‹ä¼¼ç®€å•çš„ä»£ç ï¼Œä¸Šæ‰‹å†™çš„æ—¶å€™æ‰å‘ç°ï¼ŒSwift é‡Œå¯¹ String ç›¸å…³çš„ API æ”¹åŠ¨ç¡®å®æ˜¯å¤ªå¤§äº†ï¼Œè¿å†™ä¸ªå®Œæ•´çš„è¯­å¥éƒ½å›°éš¾äº†ã€‚è¿™ä¹Ÿæ€ªæˆ‘å¹³æ—¶å¤ªçœ¼é«˜æ‰‹ä½ï¼Œå“ï¼<br>çœ¼çœ‹é¥­ç‚¹å·²ç»è¿‡å»ï¼Œç¡¬ç€å¤´çš®ä¹Ÿè¦å¾€ä¸‹æäº†ã€‚æ—¢ç„¶ API æ”¹åŠ¨å¤§ï¼Œä¸å¦¨æŠŠ API <a href="Strings and Characters">æ–‡æ¡£</a>å…ˆè¿‡ä¸€éã€‚</p>
<p>ä¸€ä»½å¤–å–é€åˆ°çš„æ—¶é—´ï¼Œä¸€å¥— Swifty çš„ä»£ç å°±å‡ºç‚‰äº†ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®Œå…¨é€†åº è¾“å…¥ "1234" è¾“å‡º "4321"</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">invertString</span><span class="params">(<span class="number">_</span> s: String?)</span></span> -&gt; <span class="type">String</span>? &#123;</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> str = s <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> string = <span class="string">""</span></span><br><span class="line">    <span class="keyword">let</span> <span class="built_in">count</span> = str.<span class="built_in">count</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;<span class="built_in">count</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> idx = <span class="type">String</span>.<span class="type">Index</span>(encodedOffset: <span class="built_in">count</span> - i - <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">let</span> char = str[idx]</span><br><span class="line">        string.append(char)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> string</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å•è¯é€†åº è¾“å…¥"hello world" è¾“å‡º"world hello"</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">invertWord</span><span class="params">(<span class="number">_</span> s: String?)</span></span> -&gt; <span class="type">String</span>? &#123;</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> str = s <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> stringArr = str.components(separatedBy: <span class="string">" "</span>)</span><br><span class="line">    <span class="keyword">var</span> newStringArr: [<span class="type">String</span>] = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;(stringArr.<span class="built_in">count</span>) &#123;</span><br><span class="line">        newStringArr.append(stringArr[(stringArr.<span class="built_in">count</span>) - i - <span class="number">1</span>])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> string = newStringArr.joined(separator: <span class="string">" "</span>)</span><br><span class="line">    <span class="keyword">return</span> string</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ã€€<br>å…¶å® Swift çš„ä»£ç é£æ ¼æ˜¯è¶‹äºç®€å•åŒ–äº†ï¼Œè€Œä¸”æ˜“è¯»æ€§ä¹Ÿå¾ˆå¥½ï¼Œå¢å¼ºäº†ç±»å‹æ¨æ–­å’Œå¯é€‰ç±»å‹ï¼Œæ—¥åç»´æŠ¤èµ·æ¥ä¹Ÿä¼šå¾—å¿ƒåº”æ‰‹ã€‚</p>
<p>ç›®å‰ Swift çš„ API åŸºæœ¬å·²ç»å®Œå…¨è„±ç¦»äº†OCçš„è¯­æ³•é£æ ¼ï¼Œä½¿ç”¨å·¥å…·ç®€å•çš„å°†OCä»£ç è½¬æ¢æˆSwiftä»£ç çš„æ–¹å¼å·²ç»æ…¢æ…¢çš„è¡Œä¸é€šäº†ã€‚åˆšä»OCè½¬è¿‡æ¥çš„åŒå­¦ä¼°è®¡ä¼šä¸€è„¸æ‡µé€¼ï¼Œç›®å‰Swiftå‘å±•å·²ç»è¶‹äºæˆç†Ÿï¼ŒABIä¼°è®¡ä¸€å¹´å†…ä¹Ÿå¯ä»¥ç¨³å®šä¸‹æ¥ï¼Œå¹³æ—¶å¤šå…³æ³¨ï¼Œç”¨æ—¶ä¸æ‡µé€¼ ğŸ¤£ ã€‚</p>
<p>ä¼ é€é—¨ï¼š<a href="https://docs.swift.org/swift-book/LanguageGuide/TheBasics.html" target="_blank" rel="noopener">Swiftå®˜æ–¹æ–‡æ¡£</a></p>

          
        
      
    </div>
    
    
    
    <div>
    
    <div>
    
    </div>

    <div>
      
    </div>
    
    

    

    
    
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/10/Swiftä¸­importçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coder bruce">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bruce's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/10/Swiftä¸­importçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ/" itemprop="url">Swiftè¯­è¨€ä¸­ "@_exported import" å’Œ "import"  çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-07-10T16:43:29+08:00">
                2018-07-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ä»Šå¤©æµè§ˆVaporæºä»£ç çš„æ—¶å€™å‘ç°äº†ä¸€ä¸ªä¹‹å‰æ²¡æœ‰è§è¿‡çš„å…³é”®å­—ï¼š<code>@_exported</code></p>
<p>æŸ¥äº†ä¸€ä¸‹èµ„æ–™å‘ç°ï¼š</p>
<p><code>@_exported</code> ç”¨äºåœ¨è‡ªå·±æ¨¡å—ä¸­å¯¼å‡ºå…¶ä»–æ¨¡å—ã€‚</p>
<p>æ¯”å¦‚ï¼Œè‡ªå·±å®šä¹‰äº†ä¸€ä¸ª <code>A</code> æ¨¡å—ã€‚<br>åœ¨ <code>A</code> æ¨¡å—ä¸­å®šä¹‰ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@_exported <span class="keyword">import</span> UIKit</span><br></pre></td></tr></table></figure>
<p>å½“æˆ‘ä»¬å¼•å…¥ <code>A</code> æ¨¡å—ï¼ˆ<code>import A</code>ï¼‰æ—¶ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ <code>UIKit</code> ä¸­çš„ç¬¦å·ã€‚</p>

          
        
      
    </div>
    
    
    
    <div>
    
    <div>
    
    </div>

    <div>
      
    </div>
    
    

    

    
    
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/05/Swiftè®¿é—®æƒé™/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coder bruce">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bruce's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/05/Swiftè®¿é—®æƒé™/" itemprop="url">Swiftè®¿é—®æƒé™</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-07-05T10:41:49+08:00">
                2018-07-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOSå¼€å‘/" itemprop="url" rel="index">
                    <span itemprop="name">iOSå¼€å‘</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="ä¸€ã€Swiftæ–‡ä»¶é—´ç›¸äº’è°ƒç”¨æ—¶ï¼ŒSwiftä¸­çš„å‡ ä¸ªæƒé™æè¿°å…³é”®å­—"><a href="#ä¸€ã€Swiftæ–‡ä»¶é—´ç›¸äº’è°ƒç”¨æ—¶ï¼ŒSwiftä¸­çš„å‡ ä¸ªæƒé™æè¿°å…³é”®å­—" class="headerlink" title="ä¸€ã€Swiftæ–‡ä»¶é—´ç›¸äº’è°ƒç”¨æ—¶ï¼ŒSwiftä¸­çš„å‡ ä¸ªæƒé™æè¿°å…³é”®å­—"></a>ä¸€ã€Swiftæ–‡ä»¶é—´ç›¸äº’è°ƒç”¨æ—¶ï¼ŒSwiftä¸­çš„å‡ ä¸ªæƒé™æè¿°å…³é”®å­—</h2><h4 id="1-gt-internal-å†…éƒ¨çš„"><a href="#1-gt-internal-å†…éƒ¨çš„" class="headerlink" title="1&gt;  internal : å†…éƒ¨çš„"></a>1&gt;  internal : å†…éƒ¨çš„</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. é»˜è®¤æƒ…å†µä¸‹æ‰€æœ‰çš„ç±»&amp;å±æ€§&amp;æ–¹æ³•çš„è®¿é—®æƒé™éƒ½æ˜¯internal</span><br><span class="line">2. åœ¨æœ¬æ¨¡å—(é¡¹ç›®/åŒ…/target)ä¸­å¯ä»¥è®¿é—®</span><br></pre></td></tr></table></figure>
<h4 id="2-gt-private-ç§æœ‰çš„"><a href="#2-gt-private-ç§æœ‰çš„" class="headerlink" title="2&gt;  private : ç§æœ‰çš„"></a>2&gt;  private : ç§æœ‰çš„</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1. åªæœ‰åœ¨æœ¬ç±»ä¸­å¯ä»¥è®¿é—®</span><br></pre></td></tr></table></figure>
<h4 id="3-gt-open-å…¬å¼€çš„"><a href="#3-gt-open-å…¬å¼€çš„" class="headerlink" title="3&gt;  open : å…¬å¼€çš„"></a>3&gt;  open : å…¬å¼€çš„</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1. å¯ä»¥è·¨æ¨¡å—(é¡¹ç›®/åŒ…/target)éƒ½æ˜¯å¯ä»¥è®¿é—®</span><br></pre></td></tr></table></figure>
<h4 id="4-gt-fileprivate-Swift3-0"><a href="#4-gt-fileprivate-Swift3-0" class="headerlink" title="4&gt;  fileprivate : Swift3.0"></a>4&gt;  fileprivate : Swift3.0</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1. åªè¦æ˜¯åœ¨æœ¬æ–‡ä»¶ä¸­éƒ½æ˜¯å¯ä»¥è¿›è¡Œè®¿é—®</span><br></pre></td></tr></table></figure>
<h2 id="äºŒã€Objcå’ŒSwifté—´ç›¸äº’è°ƒç”¨æ—¶ï¼ŒObjcä¸­å¦‚ä½•è°ƒç”¨Swiftç±»åŠæ–¹æ³•"><a href="#äºŒã€Objcå’ŒSwifté—´ç›¸äº’è°ƒç”¨æ—¶ï¼ŒObjcä¸­å¦‚ä½•è°ƒç”¨Swiftç±»åŠæ–¹æ³•" class="headerlink" title="äºŒã€Objcå’ŒSwifté—´ç›¸äº’è°ƒç”¨æ—¶ï¼ŒObjcä¸­å¦‚ä½•è°ƒç”¨Swiftç±»åŠæ–¹æ³•"></a>äºŒã€Objcå’ŒSwifté—´ç›¸äº’è°ƒç”¨æ—¶ï¼ŒObjcä¸­å¦‚ä½•è°ƒç”¨Swiftç±»åŠæ–¹æ³•</h2><p>Objcå’ŒSwiftæ··ç¼–æ—¶ï¼Œéœ€è¦å»ºç«‹æ¡¥æ¥å¤´æ–‡ä»¶ï¼ˆæ­¤æ–‡ä»¶ä¾›Swiftè°ƒç”¨OCç±»æ—¶ä½¿ç”¨ï¼‰ã€‚å¦å¤–ï¼ŒXcodeè¿˜ä¼šåœ¨ <strong>ç¼–è¯‘æ—¶</strong> é»˜è®¤ç”Ÿæˆä¸€ä¸ªSwiftæ¡¥æ¥æ–‡ä»¶ ProjectName-Swift.hã€‚</p>
<p>Swift4.0 ä¹‹å‰ï¼ŒOCç±»ä¸­ç›´æ¥å¯¼å…¥æ¡¥æ¥å¤´æ–‡ä»¶ï¼Œå°±èƒ½è®¿é—®åˆ° Swift ç±»åŠæ–¹æ³•ï¼Œä½†æ˜¯ Swift4.0 ä¹‹åï¼Œä¸ºäº†é™ä½ä¸å¿…è¦çš„ç¼–è¯‘æ€§èƒ½æŸè€—ï¼ŒXcodeä¸­é»˜è®¤ä¸å†å°†æ‰€æœ‰çš„Swiftç±»åŠæ–¹æ³•æš´éœ²ç»™OCã€‚</p>
<p>æˆ‘ä»¬éœ€è¦åœ¨è¦æš´éœ²çš„ç±»å’Œæ–‡ä»¶å‰åŠ ä¸Š <strong>@objc</strong> å…³é”®å­—ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¦‚æœæ­¤ç±»è¦æš´éœ²ç»™OCä½¿ç”¨ï¼Œåˆ™å¿…é¡»ç»§æ‰¿äºOCç±»ï¼ˆä¾‹å¦‚NSObjectï¼‰ï¼Œæ­¤æ—¶å‰é¢å†™ä¸å†™ @objc éƒ½å¯ä»¥</span></span><br><span class="line"><span class="meta">@objc</span></span><br><span class="line"><span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">MyClass</span>: <span class="title">NSObject</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@objc</span></span><br><span class="line">    <span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">foo</span>() -&gt; <span class="title">Void</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Swift"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ä¸‰ã€æ‰©å±•ï¼šObjcå’ŒSwiftæ··ç¼–æ—¶å¦‚ä½•äº’ç›¸è°ƒç”¨"><a href="#ä¸‰ã€æ‰©å±•ï¼šObjcå’ŒSwiftæ··ç¼–æ—¶å¦‚ä½•äº’ç›¸è°ƒç”¨" class="headerlink" title="ä¸‰ã€æ‰©å±•ï¼šObjcå’ŒSwiftæ··ç¼–æ—¶å¦‚ä½•äº’ç›¸è°ƒç”¨"></a>ä¸‰ã€æ‰©å±•ï¼šObjcå’ŒSwiftæ··ç¼–æ—¶å¦‚ä½•äº’ç›¸è°ƒç”¨</h2><h4 id="å°†-Objective-C-ä»£ç å¯¼å…¥åˆ°-Swift-ä¸­"><a href="#å°†-Objective-C-ä»£ç å¯¼å…¥åˆ°-Swift-ä¸­" class="headerlink" title="å°† Objective-C ä»£ç å¯¼å…¥åˆ° Swift ä¸­"></a>å°† Objective-C ä»£ç å¯¼å…¥åˆ° Swift ä¸­</h4><p>ä¸ºäº†åœ¨åŒä¸€ä¸ª App Target ä¸‹ å¯¼å…¥ Objc æ–‡ä»¶åˆ° Swift ä»£ç ä¸­ï¼Œä½ ä»¥æ¥ Objc æ¡¥æ¥ header æ¥å°†è¿™äº›æ–‡ä»¶æš´éœ²ç»™ Swiftã€‚Xcode åœ¨ä½ å°† Swift æ–‡ä»¶æ·»åŠ è¿› Objc App æˆ–è€…å°† Objc æ–‡ä»¶æ·»åŠ åˆ° Swift App æ—¶ä¼šæä¾›åˆ›å»ºè¿™æ ·ä¸€ä¸ªå¤´æ–‡ä»¶ã€‚  </p>
<p>å¦‚æœä½ æ¥å—äº†ï¼ŒXcode å°±ä¼šåˆ›å»ºè¿™ä¸ªå¤´æ–‡ä»¶å¹¶ä¸”ä»¥ Product Module åå­— ï¼‹ â€œ-Bridging-Header.hâ€ çš„å½¢å¼æ¥æ–°å»ºã€‚  </p>
<p>ä½ ä¹Ÿå¯ä»¥è‡ªå·±é€šè¿‡ File &gt; New &gt; File &gt; (iOS, watchOS, tvOS, _or_ macOS) &gt; Source &gt; Header File. çš„æ–¹å¼æ¥æ·»åŠ   </p>
<p>ä½ éœ€è¦ç¼–è¾‘è¿™ä¸ªæ¡¥æ¥å¤´æ–‡ä»¶æ¥æŠŠ Objc ä»£ç æš´éœ²ç»™ Swift ä»£ç ã€‚</p>
<p><strong>åŒä¸€ä¸ª Target ä¸‹æŠŠ Objective-C ä»£ç  import åˆ° Swift ä¸­</strong></p>
<ol>
<li><p>åœ¨ Objc æ¡¥æ¥å¤´æ–‡ä»¶ä¸­ï¼Œimport æ¯ä¸€ä¸ªä½ æƒ³è¦æš´éœ²ç»™ Swift çš„å¤´æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š</p>
</li>
<li><ol>
<li><code>#import &quot;XYZCustomCell.h&quot;</code></li>
<li><code>#import &quot;XYZCustomView.h&quot;</code></li>
<li><code>#import &quot;XYZCustomViewController.h&quot;</code></li>
</ol>
</li>
<li><p>åœ¨ Swift Compiler ï¼ Code Generation ä¸­ï¼Œç¡®ä¿ Objc Bridging Header è®¾ç½®ä¸‹æœ‰ä¸€ä¸ªæŒ‡å‘ Bridging Header File çš„è·¯å¾„ã€‚  </p>
<p>è¿™ä¸ªè·¯å¾„éœ€è¦æ˜¯ç›¸å¯¹çš„ï¼Œç±»ä¼¼äºåœ¨ info.plist æ–‡ä»¶ä¸­æŒ‡å®šçš„å½¢å¼ã€‚å¤šæ•°æƒ…å†µä¸‹ä½ ä¸éœ€è¦ä¿®æ”¹è¿™ä¸ªè®¾ç½®ã€‚</p>
</li>
</ol>
<p>ä»»ä½•å…¬å…±çš„ Objc å¤´æ–‡ä»¶éƒ½éœ€è¦ç½—åˆ—åœ¨è¿™ä¸ªæ¡¥æ¥æ–‡ä»¶ä¸­ã€‚Objc åŠŸèƒ½ä¼šè‡ªåŠ¨åœ¨ Target ä¸­åœ¨ä»»ä½•çš„ Swift æ–‡ä»¶ä¸­å¯ç”¨ã€‚è€Œä¸”ä¸éœ€è¦å† import å£°æ˜ã€‚  </p>
<ol>
<li><code>let myCell = XYZCustomCell()</code></li>
<li><code>myCell.subtitle = &quot;A custom cell&quot;</code></li>
</ol>
<h5 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h5><p><em><strong>1. Xcode ä¼šåœ¨ä½ è¯•å›¾åšæ··åˆå¼€å‘çš„æ—¶å€™ï¼Œè‡ªåŠ¨åˆ›å»ºä¸€ä¸ª Product Module åå­— ï¼‹ â€œ-Bridging-Header.hâ€çš„æ–‡ä»¶</strong></em></p>
<p><em><strong>2. åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­å¯¼å…¥ä½ æƒ³è¦è®¿é—®çš„ Objc å¤´æ–‡ä»¶</strong></em></p>
<p><em><strong>3.åœ¨ Swift æ–‡ä»¶ä¸­å°±å¯ä»¥è®¿é—®åˆ° Objc æ–‡ä»¶ä¸­çš„æ–¹æ³•</strong></em></p>
<h4 id="å°†-Swift-ä»£ç å¯¼å…¥åˆ°-Objective-C-ä¸­"><a href="#å°†-Swift-ä»£ç å¯¼å…¥åˆ°-Objective-C-ä¸­" class="headerlink" title="å°† Swift ä»£ç å¯¼å…¥åˆ° Objective-C ä¸­"></a>å°† Swift ä»£ç å¯¼å…¥åˆ° Objective-C ä¸­</h4><p>å½“ä½ æŠŠ Swift ä»£ç  import åˆ° Objective-C ä¸­æ—¶ï¼Œä½ ä¾èµ–çš„æ˜¯ Xcode äº§ç”Ÿçš„ Header File æ¥æŠŠè¿™äº›æ–‡ä»¶æš´éœ²ç»™ Objective-Cã€‚è¿™ä¸ªè‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶æ˜¯ä¸€ä¸ª Objective-C å¤´æ–‡ä»¶å£°æ˜äº†ä½  Target ä¸­çš„ Swift æ¥å£ã€‚è¿™ä¸ªå¤´æ–‡ä»¶çš„åç§°å°±æ˜¯äº§å“æ¨¡å—åç§°åŠ ä¸Š - Swift.h åç¼€ã€‚</p>
<p>æ³¨æ„ï¼šä¸è®ºä½ åˆå§‹åˆ›å»ºçš„æ˜¯ Swift è¿˜æ˜¯ Objective-C çš„å·¥ç¨‹ï¼Œå…¶å® Xcode éƒ½å·²ç»ä¸ºä½ è‡ªåŠ¨åˆ›å»ºå¥½äº†è¿™ä¸ªå¤´æ–‡ä»¶ã€‚ä¸è¿‡æœ‰çš„æ—¶å€™éœ€è¦åå¤ Clean å‡ æ¬¡åå† Build æ‰èƒ½ç¼–è¯‘ä¸Šã€‚å¦åˆ™ä¼šè¿è¡Œæ—¶å‡ºé”™ã€‚  </p>
<p><strong>åŒä¸€ä¸ª Target ä¸‹æŠŠ Swift ä»£ç  import åˆ° Objective-C ä¸­</strong></p>
<p>è¦åœ¨åŒä¸€ä¸ª Target ä¸‹çš„ Swift ä»£ç å¯¼å…¥åˆ°ä»»ä½• Objective-C ç±»ä¸­ã€‚ä½¿ç”¨ä¸‹é¢è¯­æ³•ä¿®æ”¹å…¶ .mæ–‡ä»¶:</p>
<p><code>#import &quot;ProductModuleName-Swift.h&quot; åœ¨ä½ æƒ³è¦è®¿é—®Swiftçš„æŸä¸ª Objc æ–‡ä»¶ä¸­é¦–å…ˆ import è¿™ä¸ªè‡ªåŠ¨ç”Ÿæˆçš„å¤´æ–‡ä»¶ã€‚ç„¶åå°±å¯ä»¥è®¿é—®å¯¹åº”çš„ Swift ä¸­çš„æ–¹æ³•äº†ã€‚</code></p>
<p>åœ¨ .mæ–‡ä»¶ä¸­å¯¼å…¥æ¡¥æ¥å¤´æ–‡ä»¶åï¼ŒTarget ä¸­çš„ Swift æ–‡ä»¶å°†åœ¨ Objective-C ä¸­å¯è§ï¼Œå¹¶ä¸”èƒ½åœ¨ OCæ–‡ä»¶ä¸­è°ƒç”¨Swiftä»£ç ï¼ˆSwift4.0 åŠä¹‹åç‰ˆæœ¬å¯¹æ­¤ä½œäº†æ”¹åŠ¨ï¼Œåªèƒ½åœ¨OCæ–‡ä»¶ä¸­æ˜¾ç¤ºå’Œè°ƒç”¨è¢« @objc ä¿®é¥°çš„Swiftç±»å’Œæ–¹æ³•ï¼‰ã€‚</p>
<h5 id="æ€»ç»“ï¼š-1"><a href="#æ€»ç»“ï¼š-1" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h5><p><em><strong>1. ä¸è®ºåˆå§‹åˆ›å»ºçš„ä»€ä¹ˆç±»å‹çš„å·¥ç¨‹ï¼ŒXcode å·²ç»è‡ªåŠ¨åˆ›å»ºå¥½äº†<code>&quot;ProductModuleName-Swift.h&quot;</code>çš„å¤´æ–‡ä»¶</strong></em></p>
<p><em><strong>2. åªè¦åœ¨éœ€è¦ä½¿ç”¨ Swift çš„ Objc æ–‡ä»¶ä¸­ import è¿™ä¸ªè‡ªåŠ¨ç”Ÿæˆçš„å¤´æ–‡ä»¶å°±å¯ä»¥è®¿é—® Swift ä¸­çš„æ–¹æ³•äº†</strong></em></p>
<p><em><strong>3. Swift ä¸­çš„ç±»æœ€ç»ˆå¿…é¡»é›†æˆäº NSObject, å¦åˆ™è°ƒç”¨æ—¶è¿è¡Œå‡ºé”™</strong></em></p>
<p><em><strong>4. è‡ªåŠ¨ç”Ÿæˆçš„è¿™ä¸ªå¤´æ–‡ä»¶å¯èƒ½éœ€è¦ä¸€å®šæ—¶é—´ç”Ÿæˆï¼Œå› æ­¤ä¼šå‡ºç°è®¿é—®ä¸åˆ°çš„æƒ…å†µï¼Œéœ€è¦å¤šæ¬¡ clean åç¼–è¯‘</strong></em></p>

          
        
      
    </div>
    
    
    
    <div>
    
    <div>
    
    </div>

    <div>
      
    </div>
    
    

    

    
    
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/25/Markdownè¯­æ³•çš„ä¸€äº›å°æŠ€å·§ï¼ˆæŒç»­æ›´æ–°ï¼‰/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coder bruce">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bruce's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/25/Markdownè¯­æ³•çš„ä¸€äº›å°æŠ€å·§ï¼ˆæŒç»­æ›´æ–°ï¼‰/" itemprop="url">Markdownè¯­æ³•çš„ä¸€äº›å°æŠ€å·§ï¼ˆæŒç»­æ›´æ–°ï¼‰</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-06-25T13:40:32+08:00">
                2018-06-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOSå¼€å‘/" itemprop="url" rel="index">
                    <span itemprop="name">iOSå¼€å‘</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ã€€ã€€ç”¨Markdownå†™åšå®¢å·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œä¹Ÿç®—ç§¯ç´¯äº†ä¸€äº›å°å°çš„ç»éªŒï¼Œåœ¨è¿™é‡Œå’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹ã€‚</p>
<p>ã€€ã€€<strong>å¾—ç›ŠäºMarkdownçš„è®¾è®¡ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨HTMLæ ‡ç­¾è¿›è¡Œæ ·å¼è°ƒæ•´</strong></p>
<h3 id="å…³äºå­—ä½“å’Œé¢œè‰²ï¼Œ"><a href="#å…³äºå­—ä½“å’Œé¢œè‰²ï¼Œ" class="headerlink" title="å…³äºå­—ä½“å’Œé¢œè‰²ï¼Œ"></a>å…³äºå­—ä½“å’Œé¢œè‰²ï¼Œ</h3><h3 id="å…³äºä»£ç å±•ç¤ºï¼Œæœ‰ä¸‰ç§æ–¹å¼ï¼š"><a href="#å…³äºä»£ç å±•ç¤ºï¼Œæœ‰ä¸‰ç§æ–¹å¼ï¼š" class="headerlink" title="å…³äºä»£ç å±•ç¤ºï¼Œæœ‰ä¸‰ç§æ–¹å¼ï¼š"></a>å…³äºä»£ç å±•ç¤ºï¼Œæœ‰ä¸‰ç§æ–¹å¼ï¼š</h3><ol>
<li><p>ä½¿ç”¨HTMLæ ‡ç­¾ï¼š</p>
<pre><code>class aaa {
   func add(_ a: Int, _ b: Int) -> Int {
       return a + b
   }
}</code></pre>

<p>ä»–çš„å†™æ³•æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;pre&gt;&lt;code&gt;class aaa &#123;</span><br><span class="line">    func add(_ a: Int, _ b: Int) -&gt; Int &#123;</span><br><span class="line">        return a + b</span><br><span class="line">    &#125;</span><br><span class="line">&#125;&lt;/code&gt;&lt;/pre&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨tableé”®ç¼©è¿›ï¼Œè¿™ç§æ–¹å¼çš„ä¼˜åŠ¿æ˜¯æ–¹ä¾¿ï¼Œç›´æ¥æŠŠä»£ç æ‰€åœ¨çš„è¡Œéƒ½é€‰ä¸­ï¼Œç„¶åä¸€ä¸ªtableé”®å°±å¯ä»¥äº†ã€‚ç¼ºç‚¹å°±æ˜¯ä¸ä¼šæ˜¾ç¤ºå…³é”®å­—é«˜äº®ï¼Œæ‰€æœ‰ä»£ç éƒ½æ˜¯ä¸€ä¸ªé¢œè‰²ã€‚å°±åƒä¸‹é¢è¿™æ®µä»£ç ğŸ‘‡ï¼ˆä»£ç ä¸Šé¢æ¨ªçº¿æ˜¯hexoè½¬HTMLçš„æ—¶å€™çš„é—®é¢˜ï¼‰ï¼š
ã€€</p>
<pre><code>class aaa {
    func add(_ a: Int, _ b: Int) -&gt; Int {
        return a + b
    }
}
</code></pre></li>
<li>ä½¿ç”¨åå¼•å·ï¼ˆæ•°å­—é”®1å·¦è¾¹çš„é‚£ä¸ªç¬¦å·ï¼‰ï¼Œæˆ‘ä¸€èˆ¬ä¼šé€‰æ‹©ä½¿ç”¨è¿™ç§æ–¹å¼è¿™ç§æ–¹å¼ï¼Œå› ä¸ºå®ƒå¯ä»¥åœ¨åé¢æ‹¼ä¸Šå¼€å‘è¯­è¨€ï¼Œè¿›è€Œå¯¹å…³é”®å­—é«˜äº®æ˜¾ç¤ºã€‚å°±åƒè¿™é‡ŒğŸ‘‡<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">aaa</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(<span class="number">_</span> a: Int, <span class="number">_</span> b: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> a + b</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>å®ƒçš„å†™æ³•æ˜¯è¿™æ ·çš„ï¼š<br><img src="https://github.com/a1049145827/Resources/raw/master/md_code.png" alt="Swift Code"></p>
<h3 id="å…³äºç©ºè¡Œå’Œç¼©è¿›"><a href="#å…³äºç©ºè¡Œå’Œç¼©è¿›" class="headerlink" title="å…³äºç©ºè¡Œå’Œç¼©è¿›"></a>å…³äºç©ºè¡Œå’Œç¼©è¿›</h3><p>ã€€ã€€<strong>ç¼©è¿›</strong>ï¼šç›´æ¥åœ¨æ®µè½å‰æ•²ç©ºæ ¼ï¼ŒMarkdownä¼šé»˜è®¤æŠŠæ•´ä¸ªæ®µè½éƒ½æ‰§è¡Œç¼©è¿›ï¼Œå¦‚æœåªæƒ³é¦–è¡Œç¼©è¿›ï¼Œå¯ä»¥æŠŠè¾“å…¥æ³•åˆ‡æ¢åˆ°å…¨è§’è¾“å…¥çŠ¶æ€ï¼Œåœ¨ç¬¬ä¸€è¡Œå‰è¾“å…¥ä¸¤ä¸ªç©ºæ ¼å³å¯ã€‚<br>ã€€ã€€<strong>ç©ºè¡Œ</strong>ï¼šMarkdownä¼šé»˜è®¤å¿½ç•¥ç©ºç™½è¡Œï¼Œæƒ³è¦åœ¨å±•ç¤ºçš„æ—¶å€™å‡ºç°ç©ºè¡Œï¼Œæœ€ç®€å•çš„åšæ³•å°±æ˜¯å…¨è§’çŠ¶æ€ä¸‹åœ¨ç©ºè¡Œè¾“å…¥ä¸€ä¸ªç©ºæ ¼ï¼Œå±•ç¤ºçš„æ—¶å€™ï¼Œè¿™ä¸ªç©ºæ ¼å°±ä¼šå ä½ä¸€è¡Œã€‚</p>
<h3 id="å›¾ç‰‡å±•ç¤º"><a href="#å›¾ç‰‡å±•ç¤º" class="headerlink" title="å›¾ç‰‡å±•ç¤º"></a>å›¾ç‰‡å±•ç¤º</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;![å›¾ç‰‡æè¿°](å›¾ç‰‡é“¾æ¥)&quot;</span><br></pre></td></tr></table></figure>
<h3 id="æ–‡å­—å±…ä¸­"><a href="#æ–‡å­—å±…ä¸­" class="headerlink" title="æ–‡å­—å±…ä¸­"></a>æ–‡å­—å±…ä¸­</h3><p>æ–‡å­—å±…ä¸­æˆ‘ç”¨çš„æ˜¯HTMLæ ‡ç­¾ï¼Œå†™æ³•å¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;&lt;center&gt;è¿™é‡Œæ˜¯è¦å±…ä¸­çš„æ–‡å­—&lt;/center&gt;&quot;</span><br></pre></td></tr></table></figure></p>
<h3 id="é«˜äº®æ˜¾ç¤º"><a href="#é«˜äº®æ˜¾ç¤º" class="headerlink" title="é«˜äº®æ˜¾ç¤º"></a>é«˜äº®æ˜¾ç¤º</h3><p>æˆ‘ä»¬åœ¨ç¼–è¾‘æ®µè½çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™æƒ³è¦çªå‡ºæ˜¾ç¤ºæŸä¸ªè¯æ±‡ï¼Œå¯ä»¥ä½¿ç”¨<code>åå¼•å·</code>å°†è¯æ±‡åŒ…è£¹èµ·æ¥ï¼Œæ•ˆæœå°±åƒè¿™é‡Œæ˜¾ç¤ºçš„ä¸€æ ·ã€‚å®ƒçš„å†™æ³•æ˜¯è¿™æ ·çš„ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¯ä»¥ä½¿ç”¨`åå¼•å·`å°†è¯æ±‡åŒ…è£¹èµ·æ¥</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    
    <div>
    
    <div>
    
    </div>

    <div>
      
    </div>
    
    

    

    
    
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/25/iOSä¸­çš„å›¾ç‰‡ä½¿ç”¨æ–¹å¼ã€å†…å­˜å¯¹æ¯”å’Œæœ€ä½³å®è·µ-è½¬/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coder bruce">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bruce's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/25/iOSä¸­çš„å›¾ç‰‡ä½¿ç”¨æ–¹å¼ã€å†…å­˜å¯¹æ¯”å’Œæœ€ä½³å®è·µ-è½¬/" itemprop="url">iOSä¸­çš„å›¾ç‰‡ä½¿ç”¨æ–¹å¼ã€å†…å­˜å¯¹æ¯”å’Œæœ€ä½³å®è·µ(è½¬)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-06-25T13:08:13+08:00">
                2018-06-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOSå¼€å‘/" itemprop="url" rel="index">
                    <span itemprop="name">iOSå¼€å‘</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong><a href="https://juejin.im/post/5b2ddfa7e51d4553156be305" target="_blank" rel="noopener">åŸæ–‡é“¾æ¥</a></strong></p>
<h3 id="é¢„å¤‡çŸ¥è¯†"><a href="#é¢„å¤‡çŸ¥è¯†" class="headerlink" title="é¢„å¤‡çŸ¥è¯†"></a>é¢„å¤‡çŸ¥è¯†</h3><p>ã€€ã€€æˆ‘ä»¬çš„å¯¹æ¯”ä¸»è¦å…³æ³¨å†…å­˜çš„å ç”¨æƒ…å†µã€‚å¯¹æ¯”çš„æ ¼å¼æ˜¯jpgå’Œpngè¿™ä¸¤ç§æœ€å¹¿æ³›ä½¿ç”¨çš„æ ¼å¼ï¼Œåˆ†åˆ«ä»£è¡¨äº†æœ‰æŸå‹ç¼©å’Œæ— æŸå‹ç¼©ï¼›å…³äºå®ƒä»¬çš„ç‰¹ç‚¹å’Œä»‹ç»ï¼Œå¯ä»¥å‚è€ƒéƒ­è€€æºçš„è¿™ç¯‡æ–‡ç« ï¼š<a href="https://link.juejin.im?target=https%3A%2F%2Fblog.ibireme.com%2F2015%2F11%2F02%2Fmobile_image_benchmark%2F" target="_blank" rel="noopener">ç§»åŠ¨ç«¯å›¾ç‰‡æ ¼å¼è°ƒç ”</a>ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨iOSè®¾å¤‡ä¸Šå®ƒä»¬çš„è§£ç æ¶ˆè€—åœ¨ä¸€ä¸ªé‡çº§ï¼Œé€Ÿåº¦è¾ƒå¿«ã€‚<br>ã€€ã€€WWDC2018è‹¹æœé‡ç‚¹å…³æ³¨äº†å›¾ç‰‡çš„å†…å­˜å ç”¨æƒ…å†µï¼ˆå› ä¸ºæ­¤å‰å¤§å®¶çš„é€šç”¨åšæ³•å®é™…ä¸Šæ˜¯ç›¸å¯¹ä½æ•ˆçš„ï¼‰ï¼Œå¹¶ä¸”ç»™äº†å¤§å®¶ä¸€äº›æŒ‡å¯¼ã€‚è¿™é‡Œæˆ‘ä»¬ä¼šç”¨demoå®éªŒçš„æ–¹å¼ï¼ˆå¹¶ä¸”é€šè¿‡å·¥å…·æ¥è¿›è¡Œbenchmarkï¼‰ï¼Œä¸ºå¤§å®¶æ­ç¤ºä¸€äº›äº‹å®å’Œç°è±¡ï¼Œä¾›å¤§å®¶å»ç†è§£å’Œåˆ†æï¼Œä»è€Œå»å½¢æˆæˆ‘ä»¬ä»£ç çš„æœ€ä½³å®è·µã€‚</p>
<h3 id="Demo-DownSampleDemo"><a href="#Demo-DownSampleDemo" class="headerlink" title="Demo: DownSampleDemo"></a>Demo: <a href="https://link.juejin.im?target=https%3A%2F%2Fgithub.com%2Fdustturtle%2FDownSampleDemo" target="_blank" rel="noopener">DownSampleDemo</a></h3><h3 id="åœºæ™¯"><a href="#åœºæ™¯" class="headerlink" title="åœºæ™¯"></a>åœºæ™¯</h3><p>ã€€ã€€é¦–å…ˆï¼Œè‹¹æœå‘Šè¯‰æˆ‘ä»¬ï¼Œå›¾ç‰‡åœ¨åº”ç”¨ä¸­ä¸»è¦çš„å†…å­˜å ç”¨ï¼ˆè¿™é€šå¸¸å‘ç”Ÿåœ¨å›¾ç‰‡è¦è¢«è½½å…¥å¹¶æ˜¾ç¤ºæ—¶ï¼‰å’Œå›¾ç‰‡æœ¬èº«çš„å¤§å°å®é™…æ˜¯æ— å…³çš„ï¼›é‡è¦çš„æ˜¯å›¾ç‰‡çš„å°ºå¯¸ã€‚decode bufferçš„è®¡ç®—æ–¹å¼æ˜¯width*height*N,è¿™é‡Œçš„Né€šå¸¸æ˜¯4(æœ€å¸¸è§çš„ARGB888æ ¼å¼)ï¼ŒNå–å†³äºä½ æ˜¾ç¤ºæ‰€ä½¿ç”¨çš„æ ¼å¼ã€‚ä½†å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ä¼šç›´æ¥æŠŠä¸€ä¸ªUIImageä¼ é€’ç»™UIImageViewï¼Œ å®é™…ä¸Šè¯¥Viewçš„å°ºå¯¸å¯èƒ½è¿œè¿œçš„å°äºUIImageæœ¬èº«ã€‚</p>
<h3 id="ä½¿ç”¨å›¾ç‰‡çš„ä¸‰ç§æ–¹å¼"><a href="#ä½¿ç”¨å›¾ç‰‡çš„ä¸‰ç§æ–¹å¼" class="headerlink" title="ä½¿ç”¨å›¾ç‰‡çš„ä¸‰ç§æ–¹å¼:"></a>ä½¿ç”¨å›¾ç‰‡çš„ä¸‰ç§æ–¹å¼:</h3><h4 id="æ–¹å¼A"><a href="#æ–¹å¼A" class="headerlink" title="æ–¹å¼A"></a>æ–¹å¼A</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">image1.image = <span class="built_in">UIImage</span>(named: <span class="string">"000.jpg"</span>)</span><br></pre></td></tr></table></figure>
<p>ã€€<br>ã€€ã€€è¿™æ˜¯æˆ‘ä»¬æœ€é€šå¸¸ä½¿ç”¨å›¾ç‰‡çš„æ–¹å¼ï¼Œå¯èƒ½æœ‰äººä¼šæƒ³åˆ°imagewithcontentsoffile,å®é™…ä¸Šå®ƒå’Œä¸Šé¢çš„æ–¹æ³•åªæœ‰ä¸€ä¸ªä¸åŒä¹‹å¤„ï¼š æ­£å¸¸æƒ…å†µä¸‹imageNamedä¼šç¼“å­˜è¿™ä¸ªå›¾ç‰‡åœ¨æ•´ä¸ªAppå­˜ç»­æœŸé—´ï¼Œè¿™æ ·å°±æ— éœ€é‡å¤çš„decodeï¼›è€Œimagewithcontentsoffileåˆ™æ²¡æœ‰è¿™ä¸ªç¼“å­˜ï¼Œå›¾ç‰‡ä¸ä½¿ç”¨äº†å°±ä¼šé‡Šæ”¾å†…å­˜ã€‚ä½†è¿™å¯¹æˆ‘ä»¬çš„caseå¹¶æ— å¸®åŠ©ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯åœ¨ä½¿ç”¨è¿™äº›å›¾ç‰‡ï¼Œå¹¶ä¸”è§‚å¯Ÿå®ƒä»¬çš„å†…å­˜å ç”¨.</p>
<h4 id="æ–¹å¼B"><a href="#æ–¹å¼B" class="headerlink" title="æ–¹å¼B"></a>æ–¹å¼B</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">+ (<span class="built_in">UIImage</span> *)OriginImage:(<span class="built_in">UIImage</span> *)image scaleToSize:(<span class="built_in">CGSize</span>)size &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªbitmapçš„context</span></span><br><span class="line">    <span class="comment">// å¹¶æŠŠå®ƒè®¾ç½®æˆä¸ºå½“å‰æ­£åœ¨ä½¿ç”¨çš„context</span></span><br><span class="line">    <span class="built_in">UIGraphicsBeginImageContext</span>(size);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç»˜åˆ¶æ”¹å˜å¤§å°çš„å›¾ç‰‡</span></span><br><span class="line">    [image drawInRect:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, size.width, size.height)];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä»å½“å‰contextä¸­åˆ›å»ºä¸€ä¸ªæ”¹å˜å¤§å°åçš„å›¾ç‰‡</span></span><br><span class="line">    <span class="built_in">UIImage</span>* scaledImage = <span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½¿å½“å‰çš„contextå‡ºå †æ ˆ</span></span><br><span class="line">    <span class="built_in">UIGraphicsEndImageContext</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›æ–°çš„æ”¹å˜å¤§å°åçš„å›¾ç‰‡</span></span><br><span class="line">    <span class="keyword">return</span> scaledImage;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ã€€<br>ã€€ã€€è¿™æ˜¯ä¸€ç§è¢«å¹¿æ³›ä½¿ç”¨çš„ç¼©æ”¾å›¾ç‰‡çš„åŠæ³•ã€‚</p>
<h4 id="æ–¹å¼C"><a href="#æ–¹å¼C" class="headerlink" title="æ–¹å¼C"></a>æ–¹å¼C</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">downsample</span><span class="params">(imageAt imageURL: URL, to pointSize: CGSize, scale: CGFloat)</span></span> -&gt; <span class="type">UIImage</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> sourceOpt = [kCGImageSourceShouldCache : <span class="literal">false</span>] <span class="keyword">as</span> <span class="type">CFDictionary</span></span><br><span class="line">    <span class="comment">// å…¶ä»–åœºæ™¯å¯ä»¥ç”¨createwithdata (dataå¹¶æœªdecode,æ‰€å å†…å­˜æ²¡é‚£ä¹ˆå¤§),</span></span><br><span class="line">    <span class="keyword">let</span> source = <span class="type">CGImageSourceCreateWithURL</span>(imageURL <span class="keyword">as</span> <span class="type">CFURL</span>, sourceOpt)!</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> maxDimension = <span class="built_in">max</span>(pointSize.width, pointSize.height) * scale</span><br><span class="line">    <span class="keyword">let</span> downsampleOpt = [kCGImageSourceCreateThumbnailFromImageAlways : <span class="literal">true</span>,</span><br><span class="line">                         kCGImageSourceShouldCacheImmediately : <span class="literal">true</span> ,</span><br><span class="line">                         kCGImageSourceCreateThumbnailWithTransform : <span class="literal">true</span>,</span><br><span class="line">                         kCGImageSourceThumbnailMaxPixelSize : maxDimension] <span class="keyword">as</span> <span class="type">CFDictionary</span></span><br><span class="line">    <span class="keyword">let</span> downsampleImage = <span class="type">CGImageSourceCreateThumbnailAtIndex</span>(source, <span class="number">0</span>, downsampleOpt)!</span><br><span class="line">    <span class="keyword">return</span> <span class="type">UIImage</span>(cgImage: downsampleImage)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ã€€<br>ã€€ã€€è¿™æ˜¯è‹¹æœä»‹ç»ç»™æˆ‘ä»¬çš„æ–°æ–¹æ³•ã€‚</p>
<h4 id="å…³äºæµ‹è¯•"><a href="#å…³äºæµ‹è¯•" class="headerlink" title="å…³äºæµ‹è¯•"></a>å…³äºæµ‹è¯•</h4><p>ã€€ã€€<font color="#FF0000">æµ‹è¯•è®¾å¤‡</font> ï¼š 1.iPhone8 11.4ï¼Œ 2.iPhone6 12beta2<br>ã€€ã€€<font color="#FF0000">æµ‹è¯•å›¾ç‰‡æ ¼å¼</font> ï¼š png/jpg<br>ã€€ã€€<font color="#FF0000">æµ‹è¯•çš„å›¾ç‰‡ä½¿ç”¨æ–¹å¼</font> ï¼š3ç§<br>ã€€ã€€æˆ‘ä»¬å°†2560*1440å¤§å°çš„å›¾ç‰‡æ”¾åˆ°282*138çš„Viewä¸­ï¼Œå¯¹äºç¼©æ”¾æˆ‘ä»¬ä½¿ç”¨2xçš„æ ¼å¼æ¥æ˜¾ç¤ºä»¥ä¿è¯å…¶æ•ˆæœã€‚</p>
<p>ã€€ã€€å®éªŒæ•°æ®çš„ç»†èŠ‚åœ¨DownSampleDemoçš„ViewController.swiftçš„æ³¨é‡Šä¸­ï¼Œè¿™é‡Œç›´æ¥å‘Šè¯‰å¤§å®¶ç»“è®ºï¼š</p>
<ol>
<li>xcodeé¢æ¿ä¸Šæ‰€æ˜¾ç¤ºçš„å†…å­˜å ç”¨å¹¶ä¸å¯é ï¼Œåœ¨å¾ˆå¤šcaseä¸‹åº”ç”¨å ç”¨çš„å†…å­˜è¦æ¯”å…¶ä¸Šæ˜¾ç¤ºçš„å¤šçš„å¤šï¼ˆç‰¹åˆ«æ˜¯å¯¹äºiOS11.4çš„è®¾å¤‡ï¼‰ã€‚ä½†å¯ä»¥ç”¨æ¥ç²—ç•¥çš„æŸ¥çœ‹å†…å­˜å ç”¨ï¼Œå¦‚æœè¿™é‡Œè¶…äº†å¾ˆå¤šï¼Œé‚£è‚¯å®šæ˜¯è¶…äº†</li>
<li>å¯ä»¥ä½¿ç”¨instrumentsçš„allocationå’Œmemory debuggingçš„memgraph+å‘½ä»¤è¡Œåˆ†æè¿™ä¸¤ç§æ–¹å¼æ¥è§‚æµ‹å†…å­˜çš„å ç”¨</li>
<li>ç¬¬ä¸€ç§æ–¹å¼ä¸‹jpgè½½å…¥åçš„å†…å­˜åˆ†ä¸ºimageIOå’ŒIOkitä¸¤éƒ¨åˆ†ï¼Œpngè½½å…¥åªæœ‰imageIOéƒ¨åˆ†ï¼Œjpgå†…å­˜å ç”¨æ¯”pngè¦å°‘ä¸å°‘</li>
<li>ç¬¬äºŒç§æ–¹å¼çš„æ•°æ®åœ¨xcodeé¢æ¿ä¸Šå¤±çœŸï¼Œé€šè¿‡å¦å¤–ä¸¤ç§æ–¹å¼å¯ä»¥çœ‹åˆ°å®ƒéå¸¸ä¸é è°±ã€‚å†…å­˜æ¶ˆè€—ç”šè‡³å¯èƒ½è¶…è¿‡ç¬¬ä¸€ç§ã€‚</li>
<li>ç¬¬ä¸‰ç§æ–¹å¼çš„å†…å­˜å ç”¨éå¸¸å®Œç¾ï¼Œä¸¥æ ¼çš„éµå®ˆäº†å…¬å¼è®¡ç®—å‡ºæ¥çš„å¤§å°ï¼ˆè·Ÿdownsampleåçš„å°ºå¯¸æœ‰å…³ï¼‰ï¼Œå†…å­˜å ç”¨åœ¨CG raster dataä¸­ã€‚</li>
<li><strong>memgraphå‘½ä»¤ï¼š vmmap â€“summary xxx.memgraph</strong></li>
<li><strong>allocationæˆ‘ä»¬åªéœ€è¦çœ‹VM allocationæ ç›®ä¸‹çš„dirty sizeå’Œswapped sizeï¼Œè¿™é‡Œéœ€è¦æ‰‹åŠ¨çš„æ‰“å¼€snapshotæ‰èƒ½çœ‹åˆ°è¯¥æ ç›®çš„æ•°æ®,å¹¶ä¸”éœ€è¦é€‚å½“çš„é‡å¤å¤šæ¬¡è¿è¡Œæ‰èƒ½ä¿è¯ç»“æœçš„æ­£ç¡®æ€§</strong></li>
</ol>
<p><strong>VMTrackerè¿è¡Œæˆªå›¾ï¼š</strong></p>
<p><img src="https://user-gold-cdn.xitu.io/2018/6/23/1642b31a1e330470?imageView2/0/w/1280/h/960/ignore-error/1" alt=""></p>
<p><strong>memgraphå‘½ä»¤ç»“æœæˆªå›¾ï¼š</strong></p>
<p><img src="https://user-gold-cdn.xitu.io/2018/6/23/1642b31a1ca8fc80?imageView2/0/w/1280/h/960/ignore-error/1" alt=""></p>
<h3 id="æœ€åï¼Œæ¥è‡ªè‹¹æœçš„æœ€ä½³å®è·µ-å¼ºçƒˆæ¨èå¤§å®¶ä½¿ç”¨downsampleæ¥å¤„ç†å¤§å›¾ï¼"><a href="#æœ€åï¼Œæ¥è‡ªè‹¹æœçš„æœ€ä½³å®è·µ-å¼ºçƒˆæ¨èå¤§å®¶ä½¿ç”¨downsampleæ¥å¤„ç†å¤§å›¾ï¼" class="headerlink" title="æœ€åï¼Œæ¥è‡ªè‹¹æœçš„æœ€ä½³å®è·µ:å¼ºçƒˆæ¨èå¤§å®¶ä½¿ç”¨downsampleæ¥å¤„ç†å¤§å›¾ï¼"></a>æœ€åï¼Œæ¥è‡ªè‹¹æœçš„æœ€ä½³å®è·µ:å¼ºçƒˆæ¨èå¤§å®¶ä½¿ç”¨downsampleæ¥å¤„ç†å¤§å›¾ï¼</h3>
          
        
      
    </div>
    
    
    
    <div>
    
    <div>
    
    </div>

    <div>
      
    </div>
    
    

    

    
    
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/21/Swift-VS-Kotlinä¹‹å†…å­˜ç®¡ç†ï¼ˆè¯‘ï¼‰/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coder bruce">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bruce's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/21/Swift-VS-Kotlinä¹‹å†…å­˜ç®¡ç†ï¼ˆè¯‘ï¼‰/" itemprop="url">Swift VS Kotlinä¹‹å†…å­˜ç®¡ç†ï¼ˆè¯‘ï¼‰</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-06-21T09:20:45+08:00">
                2018-06-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOSå¼€å‘/" itemprop="url" rel="index">
                    <span itemprop="name">iOSå¼€å‘</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.indoorway.com/swift-vs-kotlin-the-differences-in-memory-management-860828edf8" target="_blank" rel="noopener">blog.indoorway.com</a></strong></p>
<p><img src="https://github.com/a1049145827/Resources/raw/master/Swift_VS_Kotlin.png" alt="Illustration by [Wojciech Tymicki](https://dribbble.com/Panweb)"></p>
<p><center> ç”± <a href="https://dribbble.com/Panweb" target="_blank" rel="noopener">Wojciech Tymicki</a> è®¾è®¡ </center></p>
<p>åœ¨æˆ‘çš„ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘æåˆ°äº† Swift å’Œ Kotlin çš„å†…å­˜ç®¡ç†ï¼Œè¿™æ˜¯ä½ å¯ä»¥åœ¨<a href="https://blog.indoorway.com/swift-v-kotlin-the-differences-that-matter-50b2d393f526" target="_blank" rel="noopener">è¿™é‡Œ</a>æ‰¾åˆ°å®ƒã€‚æˆ‘æ›¾æŠŠè¿™ä¸ªé—®é¢˜ç•™ç»™ä½ ä¸€ä¸ªäººï¼Œç°åœ¨æˆ‘æƒ³è¦è¡¥å¿ä½ ä¸ºä½ æè¿°ä»–ä»¬ä¹‹é—´çš„ä¸åŒã€‚</p>
<p><img src="https://github.com/a1049145827/Resources/raw/master/very_sorry.gif" alt=""></p>
<h1 id="åƒåœ¾æ”¶é›†"><a href="#åƒåœ¾æ”¶é›†" class="headerlink" title="åƒåœ¾æ”¶é›†"></a><em>åƒåœ¾æ”¶é›†</em></h1><p>ã€€ã€€ã€€ã€€ã€€<br>åƒåœ¾æ”¶é›†è¿‡ç¨‹ï¼Œä¹Ÿç§°ä¸ºè‡ªåŠ¨å†…å­˜ç®¡ç†ï¼Œæ˜¯åŠ¨æ€åˆ†é…çš„å†…å­˜çš„è‡ªåŠ¨å›æ”¶ï¼Œ<a href="http://www.memorymanagement.org/glossary/g.html#term-garbage-collection" target="_blank" rel="noopener">è¿™é‡Œæœ‰è§£é‡Š</a>ã€‚ä¹Ÿè®¸ä½ è¿˜ä¸å¤ªæ˜ç™½ï¼Ÿå¥½çš„ï¼Œé‚£æˆ‘ç”¨ä¸€äº›å›¾ç‰‡å’Œä¸€ä¸ªç®€åŒ–çš„ä¾‹å­æ¥è§£é‡Šä¸€ä¸‹ã€‚</p>
<p>è¿™æ˜¯ä½ çš„å†…å­˜å †ï¼ˆä¸è¦æŠŠå®ƒä¸åˆ†é…ç»™ä½ åº”ç”¨çš„<a href="http://net informations.com/faq/net/stack-heap.htm" target="_blank" rel="noopener">stack</a>ï¼‰æ··æ·†ã€‚å®ƒç°åœ¨æ˜¯ç©ºçš„ã€‚</p>
<p><img src="https://github.com/a1049145827/Resources/raw/master/Empty_memory_heap.png" alt="1) ç©ºå†…å­˜å †"></p>
<p><center> 1) ç©ºå†…å­˜å † </center></p>
<p>å½“Appå¯åŠ¨çš„æ—¶å€™ï¼Œå®ƒåœ¨è¿è¡Œæ—¶å°†å†…å­˜åˆ†é…ç»™å¯¹è±¡(å¼•ç”¨ç±»å‹)ã€‚</p>
<p><img src="https://github.com/a1049145827/Resources/raw/master/Memory_heap_with_allocated.png" alt="2) å…·æœ‰åˆ†é…å†…å­˜å—çš„å†…å­˜å †(è“è‰²çŸ©å½¢)"></p>
<p><center> 2) å…·æœ‰åˆ†é…å†…å­˜å—çš„å†…å­˜å †(è“è‰²çŸ©å½¢) </center></p>
<p>è¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œä¸€äº›å¯¹è±¡å¯ä»¥è¿›è¡Œåƒåœ¾æ”¶é›†ï¼Œç„¶åä»å†…å­˜å †ä¸­åˆ é™¤ã€‚</p>
<p><img src="https://github.com/a1049145827/Resources/raw/master/removed_from_the_memory_heap.png" alt="3) æ·±è“è‰²çŸ©å½¢è¡¨ç¤ºæœ‰èµ„æ ¼è¿›è¡Œåƒåœ¾æ”¶é›†çš„å¯¹è±¡ï¼Œç„¶åä»å†…å­˜å †ä¸­åˆ é™¤è¿™äº›å¯¹è±¡"></p>
<p><center> 3) æ·±è“è‰²çŸ©å½¢è¡¨ç¤ºæœ‰èµ„æ ¼è¿›è¡Œåƒåœ¾æ”¶é›†çš„å¯¹è±¡ï¼Œç„¶åä»å†…å­˜å †ä¸­åˆ é™¤è¿™äº›å¯¹è±¡ </center></p>
<p>å½“ä¸€ä¸ªå¯¹è±¡æ²¡æœ‰è¢«å¼•ç”¨æ—¶ï¼Œå°±ä¼šæˆä¸ºåƒåœ¾æ”¶é›†çš„æœ€ä½³å€™é€‰è€…ã€‚ä¾‹å¦‚ï¼Œä½ æœ‰ä¸€ä¸ª TODO åº”ç”¨ç¨‹åºï¼Œæœ‰ä¸€ä¸ªä»»åŠ¡åˆ—è¡¨å±å¹•å’Œä¸€ä¸ªä»»åŠ¡ç»†èŠ‚å±å¹•ã€‚é¦–å…ˆï¼Œåº”ç”¨ç¨‹åºåˆ†é…å†…å­˜ï¼Œä»¥ä¾¿åœ¨å¯åŠ¨æ—¶æ˜¾ç¤ºä»»åŠ¡åˆ—è¡¨ã€‚å½“ç”¨æˆ·ç‚¹å‡»åˆ—è¡¨ä¸Šçš„ä¸€ä¸ªæ¡ç›®æ—¶ï¼Œå°†æ˜¾ç¤ºè¯¦æƒ…é¡µé¢ã€‚å¯¹äºè¿™ä¸ªæ“ä½œï¼Œä½ çš„åº”ç”¨ç¨‹åºåŠ¨æ€åœ°åˆ†é…é¢å¤–çš„å†…å­˜åˆ°å †ã€‚å½“ç”¨æˆ·å…³é—­ä»»åŠ¡ç»†èŠ‚é¡µé¢æ—¶ï¼Œåº”è¯¥åˆ é™¤ä¸ä¹‹ç›¸å…³çš„æ‰€æœ‰å¯¹è±¡ã€‚åŸå› å¾ˆç®€å•ã€‚ä½ æ²¡æœ‰æ— é™çš„è®°å¿†ï¼Œä½ å¿…é¡»é‡æ–°è·å¾—å®ƒã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆç³»ç»Ÿåˆ é™¤ä¸å¯è®¿é—®çš„å¯¹è±¡ã€‚å¥½å¤„æ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œæ¯«æ— ç–‘é—®ã€‚è¿™æ„å‘³ç€ç¨‹åºå‘˜ä¸è´Ÿè´£åˆ é™¤æœªä½¿ç”¨çš„å¯¹è±¡ã€‚ä¸ Cã€C++ ä¸åŒï¼ŒKotlin å’Œ Swift éƒ½å®ç°äº†è¿™ä¸€è¿‡ç¨‹çš„è‡ªåŠ¨åŒ–ã€‚æ‰€ä»¥ï¼Œå¦‚æœæˆ‘ä»¬æœ‰è¿™ä¸ªå…è´¹çš„åŠŸèƒ½ï¼Œä¸€åˆ‡éƒ½ç¥å¥‡åœ°å‘ç”Ÿäº†ï¼Œä½ åº”è¯¥å…³å¿ƒå®ƒå—ï¼Ÿæ˜¯çš„ï¼Œä½ åº”è¯¥è¿™æ ·åšï¼Œå› ä¸ºè¿™å¹¶ä¸æ„å‘³ç€ä½ ä¸èƒ½çŠ¯é”™ã€‚æ­¤å¤–ï¼Œè¿™äº›çŸ¥è¯†è¿˜å¯ä»¥è®©ä½ ç¼–å†™æ›´å¥½çš„åº”ç”¨ç¨‹åºï¼Œä½¿å…¶è¿è¡Œæ›´åŠ é¡ºç•…ã€‚å¦‚æœä½ æƒ³æˆä¸ºä¸€åä¼˜ç§€çš„ Android æˆ– iOS å¼€å‘äººå‘˜ï¼Œä½ åº”è¯¥ç²¾é€šå†…å­˜ç®¡ç†ã€‚</p>
<p>å°½ç®¡ Swift å’Œ Kotlin è®©ç¨‹åºå‘˜ä»ä¸ºåº”ç”¨ç¨‹åºé‡Šæ”¾å†…å­˜çš„ä»»åŠ¡ä¸­è§£è„±å‡ºæ¥ï¼Œä½†å®ƒä»¬çš„æ–¹å¼ä¸åŒã€‚æˆ‘å°†å°½å¯èƒ½ç®€å•åœ°æè¿°è¿™ä¸ªé«˜çº§ä¸»é¢˜ï¼Œæˆ‘ä¸ä¼šè¿‡äºå…³æ³¨ç»†èŠ‚ï¼Œå› ä¸ºæˆ‘æƒ³è®©å¤§å®¶éƒ½èƒ½ç†è§£è¿™ç¯‡æ–‡ç« ã€‚å¯¹äºé‚£äº›æƒ³äº†è§£æ›´å¤šçš„äººï¼Œæˆ‘ç•™ä¸‹äº†ä¸€äº›å‚è€ƒèµ„æ–™ã€‚è®©æˆ‘ä»¬å…ˆä» Kotlin å¼€å§‹ã€‚</p>
<h1 id="Kotlin-çš„å†…å­˜ç®¡ç†-Android"><a href="#Kotlin-çš„å†…å­˜ç®¡ç†-Android" class="headerlink" title="Kotlin çš„å†…å­˜ç®¡ç† (Android)"></a><em>Kotlin çš„å†…å­˜ç®¡ç† (Android)</em></h1><p>ã€€ã€€ã€€<br>Android ä½¿ç”¨æœ€å¸¸è§çš„åƒåœ¾æ”¶é›†ç±»å‹ï¼Œå³ä½¿ç”¨ CMSç®—æ³• è·Ÿè¸ªåƒåœ¾æ”¶é›†ã€‚CMS è¡¨ç¤ºå¹¶å‘çš„æ ‡è®°æ¸…é™¤ã€‚å¯¹äºæˆ‘ä»¬çš„éœ€æ±‚ï¼Œä½ å¯ä»¥å¿½ç•¥â€œCâ€å­—æ¯ã€‚æ›´é‡è¦çš„æ˜¯ç†è§£åŸºæœ¬çš„æ ‡è®°å’Œæ¸…é™¤ç®—æ³•æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</p>
<p>ç¬¬ä¸€æ­¥æ˜¯å®šä¹‰åƒåœ¾æ”¶é›†æ ¹ã€‚å®ƒä»¬å¯ä»¥æ˜¯é™æ€å˜é‡ã€æ´»åŠ¨çº¿ç¨‹ï¼ˆä¾‹å¦‚ Android ä¸­çš„ UI çº¿ç¨‹ï¼‰ï¼Œæˆ–è€…å…¶ä»–åœ¨<a href="https://developer.android.com/studio/profile/am-memory#treeroot" target="_blank" rel="noopener">è¿™é‡Œåˆ—å‡ºçš„</a>ã€‚å®Œæˆæ­¤æ“ä½œåï¼ŒGCå°†å¼€å§‹ <strong>æ ‡è®°é˜¶æ®µ</strong> ã€‚ä¸ºæ­¤ï¼ŒGC éå†æ•´ä¸ªå¯¹è±¡æ ‘ã€‚æ¯ä¸ªåˆ›å»ºçš„å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªæ ‡è®°ä½ï¼Œé»˜è®¤è®¾ç½®ä¸º0ã€‚å½“ä¸€ä¸ªå¯¹è±¡åœ¨æ ‡è®°é˜¶æ®µè¢«è®¿é—®æ—¶ï¼Œå®ƒçš„æ ‡è®°ä½è¢«è®¾ç½®ä¸º1 â€”â€” è¿™æ„å‘³ç€å®ƒæ˜¯å¯ç”¨çš„ã€‚</p>
<p><img src="https://github.com/a1049145827/Resources/raw/master/reachable.png" alt=""></p>
<p>åœ¨ä¸Šé¢çš„å›¾ç‰‡ä¸­ï¼Œè¿™ä¸ªé˜¶æ®µåä¿æŒç°è‰²çš„å¯¹è±¡æ˜¯ä¸å¯è®¿é—®çš„ï¼Œå› æ­¤æˆ‘ä»¬çš„Appä¸å†éœ€è¦å®ƒä»¬äº†ã€‚ä½†æ˜¯ï¼Œåœ¨ä½ è¿›ä¸€æ­¥è®¨è®ºä¹‹å‰ï¼Œè¯·å†çœ‹ä¸€çœ‹è¿™å¹…ç”»ã€‚ä½ æ³¨æ„åˆ°é‚£äº›äº’ç›¸æŒ‡å‘çš„å¯¹è±¡äº†å—ï¼ŸiOS å¼€å‘è€…ç§°å®ƒä»¬ä¸ºå¼•ç”¨å‘¨æœŸã€‚è¿™ä¸ªé—®é¢˜åœ¨ Android ä¸–ç•Œä¸­å¹¶ä¸å­˜åœ¨ã€‚å½“æ²¡æœ‰åˆ° GCæ ¹ çš„è·¯å¾„æ—¶ï¼Œå°†åˆ é™¤â€œå¾ªç¯â€ã€‚</p>
<p><img src="https://github.com/a1049145827/Resources/raw/master/self_five.gif" alt=""></p>
<p>å¦ä¸€ä¸ªå€¼å¾—ä¸€æçš„æ ‡å¿—é˜¶æ®µæ˜¯å®ƒçš„éšæ€§æˆæœ¬ã€‚ä½ åº”è¯¥ç†Ÿæ‚‰ <strong>å…¨å±€åœé¡¿</strong> è¿™ä¸ªè¯ã€‚åœ¨æ¯ä¸ªæ”¶é›†å‘¨æœŸä¹‹å‰ï¼ŒGC æš‚åœæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼Œä»¥é˜²æ­¢åœ¨éå†å¯¹è±¡æ ‘æ—¶åˆ†é…æ–°å¯¹è±¡ã€‚æš‚åœæŒç»­æ—¶é—´å–å†³äºå¯è®¿é—®å¯¹è±¡çš„æ•°é‡ã€‚å¯¹è±¡çš„æ€»æ•°æˆ–å †å¤§å°å¹¶ä¸é‡è¦ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆåˆ›å»ºè®¸å¤šâ€œæ´»ç€çš„â€ä¸å¿…è¦çš„å¯¹è±¡æ˜¯ç—›è‹¦çš„ â€”â€” ä¾‹å¦‚ï¼Œåœ¨å¾ªç¯ä¸­è‡ªåŠ¨è£…ç®±ã€‚GC åœ¨å†…å­˜å †å‡ ä¹æ»¡æ—¶å¯åŠ¨è¿›ç¨‹ã€‚å› æ­¤ï¼Œå½“ä½ åˆ›å»ºè®¸å¤šä¸å¿…è¦çš„å¯¹è±¡æ—¶ï¼Œä½ ä¼šæ›´å¿«åœ°å¡«å……å†…å­˜å †ï¼Œè¿™åè¿‡æ¥åˆä¼šç”Ÿæˆæ›´å¤šçš„ GCå¾ªç¯ å’Œæ›´å¤šçš„å¸§ä¸¢å¤±ï¼Œå› ä¸ºæ¯æ¬¡æš‚åœéƒ½ä¼šå ç”¨åº”ç”¨ç¨‹åºçš„æ—¶é—´ã€‚</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬æ¥è°ˆè°ˆç§»é™¤ã€‚ä¸ºäº†ä¸é€ æˆä»»ä½•æµªè´¹ï¼ŒGC å°†è¿è¡Œä¸‹ä¸€é˜¶æ®µ â€”â€” <strong>æ¸…ç†</strong> ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒGC å°†æœç´¢å†…å­˜å †ï¼Œä»¥æŸ¥æ‰¾æ‰€æœ‰å¸¦æœ‰æ ‡è®°ä½çš„å¯¹è±¡ï¼Œè®¾ç½®ä¸º0ã€‚åœ¨æœ€åä¸€æ­¥ä¸­ï¼Œåˆ é™¤å®ƒä»¬ï¼Œå¹¶å°†æ‰€æœ‰å¯è®¿é—®å¯¹è±¡çš„æ ‡è®°ä½é‡ç½®ä¸º0ï¼Œå°±è¿™ä¹ˆç®€å•ã€‚ç„¶è€Œï¼Œè¿™ç§è§£å†³æ–¹æ¡ˆæœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œå®ƒå¯èƒ½å¯¼è‡´å†…å­˜å †ç¢ç‰‡åŒ–ã€‚è¿™æ„å‘³ç€ä½ çš„å †å¯èƒ½æœ‰ç›¸å½“å¤šçš„ç©ºé—´(ç©ºé—²å†…å­˜)ï¼Œä½†æ˜¯è¿™ä¸ªç©ºé—´è¢«åˆ’åˆ†ä¸ºå°å—ã€‚å› æ­¤ï¼Œå½“å°è¯•å°†ä¸€ä¸ª 2MB çš„å¯¹è±¡åˆ†é…åˆ°4MBçš„ç©ºé—²å†…å­˜æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°éº»çƒ¦ã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºï¼Œæœ€å¤§çš„ä¸€ä¸ªå—å¯èƒ½ä¸è¶³ä»¥å®¹çº³ 2MBã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ Android ä½¿ç”¨ä¸€ä¸ªåä¸º <em>Compact</em> çš„æ”¹è¿›ç‰ˆæœ¬ã€‚<em>Compact</em> å˜ä½“è¿˜æœ‰ä¸€ä¸ªé™„åŠ æ­¥éª¤ã€‚åœ¨æ‰«æé˜¶æ®µå¹¸å­˜çš„å¯¹è±¡å°†è¢«ç§»åŠ¨åˆ°å†…å­˜å †çš„å¼€å§‹ â€”â€” æ£€æŸ¥å›¾ç‰‡ã€‚</p>
<p><img src="https://github.com/a1049145827/Resources/raw/master/check_the_picture.png" alt=""></p>
<p>å¤©ä¸‹æ²¡æœ‰å…è´¹çš„åˆé¤ã€‚è¿™åŠ å‰§äº† GCæš‚åœã€‚</p>
<p>è¿™å°±æ˜¯ Android çš„å†…å­˜ç®¡ç†ã€‚å½“ç„¶ï¼Œæˆ‘æ²¡æœ‰æ¶µç›–æ‰€æœ‰æ–¹é¢ã€‚ä¾‹å¦‚ï¼Œæˆ‘è·³è¿‡äº†å †ç”Ÿæˆä¸»é¢˜ã€‚å¦‚æœä½ æƒ³äº†è§£è¿™ä¸ªé—®é¢˜ï¼Œè¯·ç‚¹å‡»<a href="http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/index.html" target="_blank" rel="noopener">è¿™é‡Œ</a>ï¼Œå¹¶æŸ¥çœ‹ <em>The Generational Garbage Collection Process</em> ç« èŠ‚ã€‚</p>
<p>å¥½äº†ï¼Œç°åœ¨æ˜¯ Swift çš„å‡ºåœºæ—¶é—´äº†ã€‚</p>
<h1 id="Swift-çš„å†…å­˜ç®¡ç†-iOS"><a href="#Swift-çš„å†…å­˜ç®¡ç†-iOS" class="headerlink" title="Swift çš„å†…å­˜ç®¡ç† (iOS)"></a><em>Swift çš„å†…å­˜ç®¡ç† (iOS)</em></h1><p>ã€€ã€€ã€€<br>Swift ä½¿ç”¨ä¸€ç§ç®€å•çš„åƒåœ¾æ”¶é›†æœºåˆ¶ã€‚å®ƒå«åš ARCï¼ˆ<strong>è‡ªåŠ¨å¼•ç”¨è®¡æ•°</strong>ï¼‰ã€‚è¿™ç§æ–¹æ³•åŸºäºè·Ÿè¸ªå…¶ä»–å¯¹è±¡æŒæœ‰çš„å¯¹è±¡çš„å¼ºå¼•ç”¨è®¡æ•°ã€‚ç±»çš„æ¯ä¸ªæ–°åˆ›å»ºå®ä¾‹éƒ½å­˜å‚¨é¢å¤–çš„ä¿¡æ¯ â€”â€” å¼•ç”¨è®¡æ•°å™¨ã€‚æ— è®ºä½•æ—¶å°†å¯¹è±¡åˆ†é…ç»™å±æ€§ã€å˜é‡æˆ–å¸¸é‡(å¯¹å…¶è¿›è¡Œå¼ºå¼•ç”¨)ï¼Œéƒ½è¦å¢åŠ å¼•ç”¨è®¡æ•°å™¨çš„å€¼ã€‚åœ¨è¯¥å€¼ä¸ç­‰äº0ä¹‹å‰ï¼Œä½ çš„å¯¹è±¡æ˜¯å®‰å…¨çš„ï¼Œä¸èƒ½è¢«é‡Šæ”¾ã€‚ä½†æ˜¯å½“å¼•ç”¨è®¡æ•°å™¨å˜ä¸º0æ—¶ï¼Œå¯¹è±¡å°†ç«‹å³è¢«å›æ”¶*ï¼Œæ²¡æœ‰ä»»ä½•æš‚åœï¼Œä¹Ÿä¸ä¼šå¯åŠ¨GCæ”¶é›†å‘¨æœŸã€‚ä¸è·Ÿè¸ªåƒåœ¾æ”¶é›†ç±»å‹ç›¸æ¯”ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„ä¼˜åŠ¿ã€‚</p>
<p><img src="https://github.com/a1049145827/Resources/raw/master/tracing_garbage_collection_type.gif" alt=""></p>
<p>å¥½å§ï¼Œæˆ‘åº”è¯¥æŠŠæ˜Ÿå·ï¼ˆä¸Šä¸€æ®µè¯ä¸­å‡ºç°çš„*ï¼‰æ”¾åœ¨â€œç«‹å³â€æ—è¾¹ã€‚æˆ‘è¿™æ ·åšæ˜¯å› ä¸ºä½ å¯ä»¥åœ¨<a href="https://www.quora.com/Why-doesnt-Apple-Swift-adopt-the-memory-management-method-of-garbage-collection-like-Java-uses" target="_blank" rel="noopener">äº’è”ç½‘ä¸Šæ‰¾åˆ°ä¸€äº›ä¿¡æ¯</a>ï¼Œè¿™æ˜¯å†…å­˜ç®¡ç†çš„ç¥è¯ä¹‹ä¸€ã€‚æˆ‘é¼“åŠ±ä½ å»çœ‹çœ‹è¿™ä¸ªæœ‰è¶£çš„è®¨è®º :)</p>
<p>å½“ç„¶ï¼Œè¿˜æœ‰å¦ä¸€æ–¹é¢ â€”â€” ä¹‹å‰æåˆ°çš„å¼•ç”¨å‘¨æœŸã€‚é¦–å…ˆï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•åˆ›å»ºä¸€ä¸ª <strong>å¼•ç”¨å¾ªç¯</strong> ï¼Œä»¥åŠ iOSå¼€å‘äººå‘˜ éœ€è¦åšäº›ä»€ä¹ˆæ¥é¿å…å†…å­˜æ³„æ¼ã€‚è®©æˆ‘ä»¬è€ƒè™‘ä¸¤ä¸ªç±»ä¼¼çš„ç±»ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> dog: <span class="type">Dog</span>?</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(name: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.name = name</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> owner: <span class="type">Person</span>?</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(name: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.name = name</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸¤ä¸ªç±»éƒ½æœ‰ä¸€ä¸ªåå­—å’Œä¸€ä¸ªå¯é€‰çš„è´¢äº§ â€”â€” ç‹—ã€ç‹—ä¸»äººï¼Œå› ä¸ºä¸€ä¸ªäººå¯èƒ½å¹¶ä¸æ€»æ˜¯æœ‰ä¸€åªç‹—ï¼Œç‹—ä¹Ÿä¸ä¸€å®šå±äºæŸä¸ªäºº â€”â€” å› ä¸ºç‹—å¯èƒ½å¹¶ä¸æ€»æ˜¯æœ‰ä¸»äººçš„ï¼Œè¿™å®åœ¨ä»¤äººä¼¤æ„Ÿ :(</p>
<p>ä¸‹ä¸€ä¸ªä»£ç ç‰‡æ®µåˆ›å»ºæ¯ä¸ªç±»çš„å®ä¾‹ï¼ŒåŒæ—¶å°†å¼•ç”¨è®¡æ•°è®¾ç½®ä¸º1:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> joe: <span class="type">Person</span>? = <span class="type">Person</span>(name: <span class="string">"Joe"</span>)</span><br><span class="line"><span class="keyword">var</span> lassie: <span class="type">Dog</span>? = <span class="type">Dog</span>(name: <span class="string">"Lassie"</span>)</span><br></pre></td></tr></table></figure>
<p><em>Joe</em> å’Œ <em>Lassie</em> åˆ†åˆ«å¼ºå¼•ç”¨äº† Person å’Œ Dog å®ä¾‹ã€‚åˆ°ç›®å‰ä¸ºæ­¢è¿˜å¥½ã€‚å¦‚æœå°† <em>nil</em> èµ‹ç»™ <em>joe</em> å˜é‡ï¼Œåˆ™å›æ”¶å†…å­˜ï¼Œå› ä¸ºå¯¹ Person å®ä¾‹ä¸å†æœ‰å¼ºå¼•ç”¨ã€‚</p>
<p>è¦åˆ›å»ºä¸€ä¸ªå¼ºå¼•ç”¨å¾ªç¯ï¼Œåªéœ€å°†ä¸¤ä¸ªå®ä¾‹é“¾æ¥åœ¨ä¸€èµ·ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">joe!.dog = lassie</span><br><span class="line">lassie!.owner = joe</span><br></pre></td></tr></table></figure>
<p>è¯·æ³¨æ„å¼•ç”¨è®¡æ•°ã€‚å®ƒä»¬çš„å€¼éƒ½æ˜¯2ã€‚</p>
<p><img src="https://github.com/a1049145827/Resources/raw/master/notice_the_references_counters.png" alt=""></p>
<p>ç°åœ¨ï¼Œå¦‚æœä½ ç ´åäº† <em>joe</em> å’Œ <em>lassie</em> æŒæœ‰çš„å¼ºå¼•ç”¨ï¼Œåˆ™å¼•ç”¨è®¡æ•°å™¨ä¸ä¼šé‡ç½®ä¸º0ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">joe = <span class="literal">nil</span></span><br><span class="line">lassie = <span class="literal">nil</span></span><br></pre></td></tr></table></figure>
<p><img src="https://github.com/a1049145827/Resources/raw/master/retain_cycle.png" alt=""></p>
<p>ç”±äºå¼•ç”¨å¾ªç¯ï¼ŒARC æ— æ³•é‡Šæ”¾å®ä¾‹ã€‚</p>
<p>å½“ç„¶ï¼Œè¿™æ˜¯æœ‰è§£å†³åŠæ³•çš„ã€‚è¦è§£å†³å¼ºå¼•ç”¨å¾ªç¯ï¼Œåº”è¯¥ä½¿ç”¨ <em>weak</em> æˆ– <em>unowned</em> è¿›è¡Œä¿®é¥°ã€‚ä½ åªéœ€åœ¨å˜é‡ä¹‹å‰æ·»åŠ ä¸€ä¸ªç‰¹æ®Šçš„å…³é”®å­—ï¼Œç„¶åå½“ä½ å°†ä¸€ä¸ªå¯¹è±¡èµ‹ç»™è¯¥å˜é‡æ—¶ï¼Œå¯¹è±¡çš„å¼•ç”¨è®¡æ•°å™¨å°±ä¸ä¼šè¢«æå‡ã€‚</p>
<h1 id="å†…å­˜ç®¡ç†å¦‚ä½•å½±å“æˆ‘ä»¬çš„ç¼–ç æ–¹å¼"><a href="#å†…å­˜ç®¡ç†å¦‚ä½•å½±å“æˆ‘ä»¬çš„ç¼–ç æ–¹å¼" class="headerlink" title="å†…å­˜ç®¡ç†å¦‚ä½•å½±å“æˆ‘ä»¬çš„ç¼–ç æ–¹å¼"></a><em>å†…å­˜ç®¡ç†å¦‚ä½•å½±å“æˆ‘ä»¬çš„ç¼–ç æ–¹å¼</em></h1><p>ã€€ã€€ã€€<br>å¦ç™½åœ°è¯´ï¼Œå½“æˆ‘å¼€å§‹å­¦ä¹  iOS çš„æ—¶å€™ï¼Œæˆ‘è®¤ä¸º iOS å’Œ Android ä¸­çš„ <em>weak</em>ã€<em>reference</em> åŠŸèƒ½ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚å½“ç„¶ï¼Œè¿™ä¸æ˜¯çœŸçš„ã€‚</p>
<p>åœ¨iOSä¸­ä½¿ç”¨ <em>weak</em> å…³é”®å­—æ˜¯æ­£å¸¸çš„ï¼Œå½“ä½ å¹¿æ³›ä½¿ç”¨ <em>ä»£ç†æ¨¡å¼</em> æ—¶ï¼Œç”šè‡³å¯ä»¥è®¤ä¸ºæ˜¯è‰¯å¥½çš„å®è·µã€‚è°ˆåˆ° Androidï¼Œè¿™å¹¶ä¸æ˜¯ä¸€ç§å¸¸è§çš„å®è·µï¼Œé™¤éä½ ä»ç„¶ä½¿ç”¨å¼‚æ­¥ä»»åŠ¡ï¼ˆæˆ‘å¸Œæœ›ä¸æ˜¯ï¼‰ã€‚</p>
<p>ç”±äºå¾ªç¯å¼•ç”¨ï¼ŒiOSå¼€å‘äººå‘˜ æœ‰æ—¶éœ€è¦ç¼–å†™æ¯” Androidå¼€å‘äººå‘˜ æ›´å¤æ‚çš„ä»£ç ã€‚æœ€å¥½çš„ä¾‹å­æ˜¯ä½¿ç”¨ <em>closure</em> (Swift)å’Œ <em>lambda</em> (Android)ã€‚</p>
<p>Android:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UpdateHandler</span> </span>&#123;</span><br><span class="line">    var actionAfterUpdate: (() -&gt; Unit) = &#123;&#125; <span class="comment">// Lambda</span></span><br><span class="line"></span><br><span class="line"><span class="function">fun <span class="title">update</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// do work</span></span><br><span class="line">        actionAfterUpdate()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>iOS:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UpdateHandler</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> actionAfterUpdate: () -&gt; <span class="type">Void</span> = &#123;&#125; <span class="comment">// Closure</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">update</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="comment">// do work</span></span><br><span class="line">        actionAfterUpdate()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å½“ <em>update()</em> æ–¹æ³•å®Œæˆæ—¶ï¼Œ<em>actionAfterUpdate</em> å°†æ‰§è¡Œã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ£€æŸ¥å¦‚ä½•ä½¿ç”¨ <em>UpdateHandler.</em></p>
<p>Android:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyObject</span> </span>&#123;</span><br><span class="line">    val updateHandler = UpdateHandler()</span><br><span class="line"></span><br><span class="line">    <span class="function">fun <span class="title">doSomething</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// do important thing</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">fun <span class="title">timeToUpdate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        updateHandler.actionAfterUpdate = &#123; doSomething() &#125;</span><br><span class="line">        updateHandler.update()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>iOS:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyObject</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> updateHandler = <span class="type">UpdateHandler</span>()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">doSomething</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="comment">// do important thing</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">timeToUpdate</span><span class="params">()</span></span> &#123;</span><br><span class="line">        updateHandler.actionAfterUpdate = &#123; <span class="keyword">self</span>.doSomething() &#125;</span><br><span class="line">        updateHandler.update()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚ä½ æ‰€è§ï¼Œä½¿ç”¨ <em>UpdateHandler</em> å¾ˆç®€å•ã€‚åœ¨è°ƒç”¨ <em>update()</em> æ–¹æ³•ä¹‹å‰ï¼Œä½ è¦å£°æ˜æ›´æ–°ä¹‹ååº”è¯¥å‘ç”Ÿä»€ä¹ˆã€‚ä¸€åˆ‡ä¼¼ä¹éƒ½å¾ˆå¥½ï¼Œä½†æ˜¯â€¦ iOS ç‰ˆæœ¬çš„ä»£ç æœ‰ä¸€ä¸ªä¸¥é‡çš„é”™è¯¯â€¦ å®ƒå¾ˆç³Ÿç³•ï¼Œå› ä¸ºå®ƒä¼šå¯¼è‡´å†…å­˜æ³„æ¼ã€‚æ˜¯ä»€ä¹ˆé—®é¢˜?å®ƒæ˜¯ <em>actionAfterUpdate</em> é—­åŒ…ï¼Œå®ƒä¿å­˜å¯¹ <em>self</em> çš„å¼ºå¼•ç”¨ã€‚ <em>Self</em> æ˜¯ä¸€ä¸ª <em>MyObject</em> å®ä¾‹ï¼Œå®ƒè¿˜åŒ…å«å¯¹ <em>UpdateHandler</em> çš„å¼•ç”¨ â€”â€” ä¸€ä¸ªretainçš„å¾ªç¯!ä¸ºäº†é˜²æ­¢å†…å­˜æ³„æ¼ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨é—­åŒ…ä¸­ä½¿ç”¨ <em>weak</em> (æˆ– <em>unowned</em> åœ¨æœ¬ä¾‹ä¸­è¿™å°±è¶³å¤Ÿäº†)å…³é”®å­—:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">updateHandler.actionAfterUpdate = &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] <span class="keyword">in</span> <span class="keyword">self</span>?.doSomething()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦ä¸€ä¸ªé—®é¢˜æ˜¯ <em>å·²å¤±æ•ˆçš„ä¾¦å¬å™¨é—®é¢˜</em> ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå½“ä½ æ³¨å†Œä¸€ä¸ªä¾¦å¬å™¨å¹¶å¿˜è®°å–æ¶ˆæ³¨å†Œæ—¶ï¼Œä¼šå¯¼è‡´åº”ç”¨ç¨‹åºä¸­çš„å†…å­˜æ³„æ¼ã€‚</p>
<p>æˆ‘ä¿®æ”¹äº†ä»¥å‰ä½¿ç”¨çš„ç¤ºä¾‹ï¼Œä»¥æ›´è¯¦ç»†åœ°è®¨è®ºè¿™ä¸ªå°šæœªè§£å†³çš„å¤æ‚é—®é¢˜ã€‚</p>
<p>ç°åœ¨ï¼Œ<em>UpdateHandler</em> æ˜¯ä¸€ä¸ªå•ä¾‹ï¼Œå®ƒçš„å¯¿å‘½å’Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºçš„å¯¿å‘½ä¸€æ ·é•¿ã€‚</p>
<p>Android:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">object UpdateHandler &#123;</span><br><span class="line">    <span class="keyword">private</span> var listener: OnUpdateListener? = <span class="keyword">null</span></span><br><span class="line"></span><br><span class="line">    <span class="function">fun <span class="title">registerUpdateListener</span><span class="params">(listener: OnUpdateListener)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.listener = listener</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">fun <span class="title">update</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// do work</span></span><br><span class="line">        listener?.onUpdateComplete()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">OnUpdateListener</span> </span>&#123;</span><br><span class="line">    <span class="function">fun <span class="title">onUpdateComplete</span><span class="params">()</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure>
<p>iOS:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UpdateHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> sharedInstance = <span class="type">UpdateHandler</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> listener: <span class="type">OnUpdateListener</span>? = <span class="literal">nil</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">registerUpdateListener</span><span class="params">(listener: OnUpdateListener)</span></span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.listener = listener</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">update</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// do work</span></span><br><span class="line">        listener?.onUpdateComplete()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">OnUpdateListener</span>: <span class="title">class</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">onUpdateComplete</span><span class="params">()</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»¥åŠ <em>MyObject</em> ç±»ä¸­çš„ä¸€äº›ä¿®æ”¹ã€‚</p>
<p>Android:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">class MyObject: OnUpdateListener &#123;</span><br><span class="line">    <span class="function">override fun <span class="title">onUpdateComplete</span><span class="params">()</span> </span>&#123;...&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>iOS:<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyObject</span>: <span class="title">OnUpdateListener</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">onUpdateComplete</span><span class="params">()</span></span> &#123;...&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å¦‚ä½ æ‰€è§ï¼Œ<em>MyObject</em> æ˜¯ä¸€ä¸ªæ›´æ–°ä¾¦å¬å™¨ï¼Œå½“æ›´æ–°å®Œæˆæ—¶å®ƒä¼šæ‰§è¡Œä¸€å®šçš„æ“ä½œã€‚</p>
<p>ä¸ºäº†å¼ºè°ƒè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å°†ä»£ç æ”¾åœ¨ä¸€ä¸ªåœ°æ–¹ï¼Œæ¯å½“ä½ é€€å‡ºå¹¶é‡æ–°å¯åŠ¨åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒéƒ½ä¼šè¢«è°ƒç”¨ã€‚ä½†æ˜¯ï¼Œè¯·æ³¨æ„ï¼Œè¿™ä¸ªç¤ºä¾‹åœ¨äº§å“ä»£ç ä¸­æ²¡æœ‰æ„ä¹‰ã€‚è¿™åªæ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ :)</p>
<p>Android ( <em>MainActivity.kt</em> ):<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">override fun <span class="title">onStart</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>.onStart()</span><br><span class="line">    val myObject = MyObject()</span><br><span class="line">    UpdateHandler.registerUpdateListener(myObject)</span><br><span class="line">    UpdateHandler.update()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>iOS ( <em>AppDelegate.swift</em> ):<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">applicationWillEnterForeground</span><span class="params">(<span class="number">_</span> application: UIApplication)</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> myObject = <span class="type">MyObject</span>()</span><br><span class="line">    <span class="type">UpdateHandler</span>.sharedInstance.registerUpdateListener(listener: myObject)</span><br><span class="line">    <span class="type">UpdateHandler</span>.sharedInstance.update()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å› æ­¤ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ª <em>myObject</em> ï¼Œå¹¶å°†å…¶ä½œä¸ºæ›´æ–°ä¾¦å¬å™¨ä¼ é€’ç»™ <em>UpdateHandler</em> ï¼Œå¹¶è°ƒç”¨ <em>update()</em> æ–¹æ³•ã€‚<em>update()</em> æ–¹æ³•é€šçŸ¥ä¾¦å¬å™¨å®Œæˆçš„å·¥ä½œï¼Œè°ƒç”¨ <em>onUpdateComplete()</em> æ–¹æ³•ï¼ˆ <em>onUpdateComplete()</em> æ–¹æ³•åœ¨ <em>MyObject</em> ä¸­æ‰§è¡Œï¼‰ã€‚</p>
<p><em>MyObject</em> ç±»çš„å®ä¾‹åº”è¯¥åœ¨ <em>onStart()</em> æˆ– <em>applicationWillEnterForegorund(â€¦)</em> å®Œæˆæ—¶åˆ é™¤ï¼Œå› ä¸ºåœ¨æ–¹æ³•ä¸­åˆ›å»ºçš„å¯¹è±¡åªè¦æ–¹æ³•æ—¶é—´æ‰§è¡Œï¼Œå¹¶ä¸”åœ¨è¯¥æ—¶é—´ä¹‹åæˆä¸ºåƒåœ¾æ”¶é›†çš„æ¡ä»¶ï¼Œå°±å¯ä»¥å­˜æ´»ã€‚ä½†æ˜¯åœ¨æœ¬ä¾‹ä¸­ï¼Œ<em>UpdateHandler</em> å°†æ°¸è¿œä¿å­˜å¯¹ <em>MyObject</em> å®ä¾‹çš„å¼•ç”¨ã€‚å¦‚ä½•ç®¡ç†æ½œåœ¨çš„å†…å­˜æ³„æ¼ï¼Ÿå¯èƒ½æ‰€æœ‰iOSå¼€å‘äººå‘˜éƒ½ä¼šè¯´ï¼šâ€œä½¿ç”¨å¼±å¼•ç”¨!â€â€ï¼Œä»–ä»¬æ˜¯å¯¹çš„ã€‚åœ¨ <em>UpdateHandler</em> ç±»ä¸­ä½¿ç”¨å¸¦æœ‰ <em>listener</em> å˜é‡çš„ <em>weak</em> å…³é”®å­—å¯ä»¥è¾¾åˆ°è¿™ä¸ªç›®çš„:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UpdateHandler</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">weak</span> <span class="keyword">var</span> listener: <span class="type">OnUpdateListener</span>? = <span class="literal">nil</span></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ­£å› ä¸ºå¦‚æ­¤ï¼ŒARC æ‰èƒ½ä¸ºæˆ‘ä»¬ç§»é™¤ç›‘å¬å™¨ã€‚</p>
<p>ä½†æ˜¯Androidå‘¢ï¼Ÿä¸€äº› Android å¼€å‘äººå‘˜ä¹Ÿä¼šè¯´åŒæ ·çš„è¯ â€”â€” â€œæŠŠç›‘å¬å™¨å½“ä½œå¼±å¼•ç”¨!â€ å¥½å§ï¼Œè¿™å¯èƒ½ä¼šæœ‰å¸®åŠ©â€¦â€¦ æœ‰æ—¶â€¦â€¦ ä½†æˆ‘ç¡®ä¿¡è¿™æ˜¯ä½ é—®é¢˜çš„å¼€å§‹ :) ä½ åº”è¯¥çŸ¥é“ï¼Œæ¯å½“ä½ æ‹¿å›å«ä½œä¸ºå¼±å¼•ç”¨æ—¶ï¼Œå°çŒ«å°±ä¼šæ­»å»ã€‚</p>
<p><img src="https://github.com/a1049145827/Resources/raw/master/kitten.gif" alt=""></p>
<p><em>WeakReference</em> ä½¿å¯¹è±¡é€‚åˆè¿›è¡Œåƒåœ¾æ”¶é›†ã€‚æ‰€ä»¥å®ƒå¯èƒ½æ¯”ä½ æƒ³è±¡çš„è¦æ—©ã€‚å”¯ä¸€çš„è§£å†³æ–¹æ¡ˆæ˜¯æ·»åŠ  <em>unregisterUpdateListener</em> æ–¹æ³•å¹¶æ‰‹åŠ¨æ¸…é™¤ <em>listener</em> ã€‚</p>
<h1 id="ç›¸ä¼¼ä½†ä¸ç›¸åŒ"><a href="#ç›¸ä¼¼ä½†ä¸ç›¸åŒ" class="headerlink" title="ç›¸ä¼¼ä½†ä¸ç›¸åŒ"></a><em>ç›¸ä¼¼ä½†ä¸ç›¸åŒ</em></h1><p>ã€€ã€€ã€€<br>ç¥è´ºæ¯ä¸€ä¸ªåšæŒåˆ°åº•çš„äººï¼</p>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©äººä»¬ç†è§£è¿™ä¸ªå¤æ‚çš„è¯é¢˜ï¼Œæˆ‘ä¼šå¾ˆé«˜å…´ã€‚æˆ‘è¯•ç€åƒä½ äº”å²ä¸€æ ·ï¼Œä¸€æ­¥ä¸€æ­¥åœ°è§£é‡Šã€‚è²Œä¼¼ä¸¤ç§ç±»ä¼¼çš„ç¼–ç¨‹è¯­è¨€éšè—äº†å¼•æ“ç›–ä¸‹çš„è®¸å¤šä¸åŒä¹‹å¤„ï¼Œæˆ‘å¸Œæœ›ä½ ä»¬èƒ½æ„è¯†åˆ°è¿™ä¸€ç‚¹ã€‚æœ‰æ—¶Androidçš„å¸¸è§åšæ³•åœ¨iOSä¸Šä¸èµ·ä½œç”¨ï¼Œåä¹‹äº¦ç„¶ã€‚ä»ä¸€ä¸ªå¹³å°ç§»åŠ¨åˆ°å¦ä¸€ä¸ªå¹³å°å¹¶ä¸åƒçœ‹ä¸Šå»çš„é‚£ä¹ˆç®€å•ã€‚</p>
<h1 id="å†æ¬¡ç¼–è¾‘-19-06-2018"><a href="#å†æ¬¡ç¼–è¾‘-19-06-2018" class="headerlink" title="å†æ¬¡ç¼–è¾‘ (19.06.2018)"></a>å†æ¬¡ç¼–è¾‘ (19.06.2018)</h1><p>ã€€ã€€ã€€<br>è¯·æ³¨æ„ï¼Œæˆ‘è¯´çš„æ˜¯ï¼š</p>
<p>â€œSwift ä½¿ç”¨ä¸€ä¸ªç®€å•çš„ GC æ”¶é›†æœºåˆ¶â€</p>
<p>æ˜¯æˆ‘ä¸å¥½ï¼Œè¿™å¯èƒ½æ˜¯è¯¯å¯¼ã€‚æˆ‘ä¸æ˜¯è¯´ ARC æ˜¯ä¸€ä¸ªåƒåœ¾æ”¶é›†å™¨ï¼Œæˆ‘çš„æ„æ€æ˜¯åƒåœ¾æ”¶é›†æ˜¯ä¸€ä¸ªå¤„ç†åƒåœ¾ï¼ˆæœªä½¿ç”¨çš„å¯¹è±¡ï¼‰çš„è¿‡ç¨‹ã€‚ARC æ˜¯å¤„ç†åºŸç‰©çš„å¦ä¸€ç§æœºåˆ¶æˆ–æŠ€æœ¯ã€‚æˆ‘ä¹Ÿæ²¡æœ‰æåˆ° Android ä¸Šçš„åƒåœ¾æ”¶é›†è¿‡ç¨‹åœ¨ä½ çš„åº”ç”¨è¿è¡Œæ—¶æ˜¯æœ‰æ•ˆçš„ï¼Œè€Œ ARC æ˜¯åœ¨ç¼–è¯‘æ—¶æä¾›çš„ã€‚</p>
<p>è°¢è°¢ä½ ä»¬çš„åé¦ˆï¼Œä¹Ÿæ„Ÿè°¢ä½ ä»¬å…³æ³¨è¿™é‡Œçš„å†…å®¹ã€‚</p>

          
        
      
    </div>
    
    
    
    <div>
    
    <div>
    
    </div>

    <div>
      
    </div>
    
    

    

    
    
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/02/Xcode-å°†é™æ€åº“è½¬ä¸ºåŠ¨æ€åº“ã€å¤šä¸ªåº“åˆå¹¶/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coder bruce">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bruce's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/02/Xcode-å°†é™æ€åº“è½¬ä¸ºåŠ¨æ€åº“ã€å¤šä¸ªåº“åˆå¹¶/" itemprop="url">Xcode å°†é™æ€åº“è½¬ä¸ºåŠ¨æ€åº“ã€å¤šä¸ªåº“åˆå¹¶</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-05-02T13:16:33+08:00">
                2018-05-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOSå¼€å‘/" itemprop="url" rel="index">
                    <span itemprop="name">iOSå¼€å‘</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>cocoapodsä¸­ä½¿ç”¨äº† use_frameworks! é€‰é¡¹åï¼Œ å°±éœ€è¦æˆ‘ä»¬çš„ç»„ä»¶æˆ–ç¬¬ä¸‰æ–¹åº“æ”¯æŒdynamic Frameworkï¼Œå¦åˆ™å°±æ— æ³•é›†æˆã€‚æˆ‘ä»¬è‡ªå·±çš„ç»„ä»¶å°šä¸”å¥½å¤„ç†ï¼Œå°†Xcodeé¡¹ç›®é…ç½®æ–‡ä»¶ä¿®æ”¹ä¸€ä¸‹ï¼Œæˆ–è€…å»ºä¸€ä¸ªæ–°çš„dynamic Frameworkå·¥ç¨‹ï¼Œå°†ä»£ç æ‹‰è¿›æ¥ï¼Œé‡æ–°ç¼–è¯‘å¯¼å‡ºä¸€ä¸‹ã€‚</p>
<p>ä½†æ˜¯ç¬¬ä¸‰æ–¹åº“æˆ‘ä»¬åº”è¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿå¾ˆå¤šæ—¶å€™æˆ‘ä»¬æ‹¿åˆ°çš„åªæ˜¯ç¼–è¯‘è¿‡åçš„ .a æˆ–è€…æ˜¯ .framework æ–‡ä»¶ï¼Œ</p>
<p>é™æ€åº“æ‰“åŒ…æˆFramework</p>
<p>æ³¨æ„ï¼šä»…ä½œä¸ºæŠŠç¬¬ä¸‰æ–¹åº“æ‰“åŒ…æˆFrameworkï¼Œä¸åšé¢å¤–å°è£…å·¥ä½œã€‚</p>
<p>æ­¥éª¤1</p>
<p>åˆ›å»ºFrameworkå·¥ç¨‹</p>
<p>Gitï¼š<a href="https://gitlab.qianbaocard.org/iOS-modules/function/lib" target="_blank" rel="noopener">https://gitlab.qianbaocard.org/iOS-modules/function/lib</a><br>å‘½åï¼šWL+ç¬¬ä¸‰æ–¹åº“å<br>æ­¥éª¤2</p>
<p>éƒ¨ç½²ä»£ç </p>
<p> æŠŠç¬¬ä¸‰æ–¹ä»£ç æ‹–è¿›å·¥ç¨‹Libæ–‡ä»¶å¤¹<br> æŠŠæ‰€æœ‰å¤´æ–‡ä»¶æ‹–è¿›å·¥ç¨‹Headersæ–‡ä»¶å¤¹<br>æ­¥éª¤3</p>
<p>å·¥ç¨‹é…ç½®</p>
<p>General-&gt;DeploymentTarget-&gt;8.0<br>BuildSettings-&gt;OtherLinkerFlags-&gt;-ObjC<br>æ·»åŠ ä¸‰æ–¹åº“æ‰€éœ€è¦çš„é…ç½®<br>BuildPhases-&gt;Headers-&gt;æŠŠæ‰€æœ‰å¤´æ–‡ä»¶æ‹–è¿›Public<br>æ­¥éª¤4</p>
<p>æ·»åŠ è„šæœ¬ï¼ˆç”¨äºåˆå¹¶Releaseï¼Œiphonesimulatorï¼‰<br>BuildPhases-&gt;RunScript</p>
<p>if [ â€œ${ACTION}â€ = â€œbuildâ€ ]<br>then<br>INSTALL_DIR=${SRCROOT}/Products/${PROJECT_NAME}.framework<br>DEVICE_DIR=${BUILD_ROOT}/${CONFIGURATION}-iphoneos/${PROJECT_NAME}.framework<br>SIMULATOR_DIR=${BUILD_ROOT}/${CONFIGURATION}-iphonesimulator/${PROJECT_NAME}.framework<br>if [ -d â€œ${INSTALL_DIR}â€ ]<br>then<br>rm -rf â€œ${INSTALL_DIR}â€<br>fi<br>mkdir -p â€œ${INSTALL_DIR}â€<br>cp -R â€œ${DEVICE_DIR}/â€œ â€œ${INSTALL_DIR}/â€œ</p>
<p>#ditto â€œ${DEVICE_DIR}/Headersâ€ â€œ${INSTALL_DIR}/Headersâ€<br>lipo -create â€œ${DEVICE_DIR}/${PROJECT_NAME}â€ â€œ${SIMULATOR_DIR}/${PROJECT_NAME}â€ -output â€œ${INSTALL_DIR}/${PROJECT_NAME}â€</p>
<p>#open â€œ${DEVICE_DIR}â€</p>
<p>#open â€œ${SRCROOT}/Productsâ€<br>fi<br>æ­¥éª¤5</p>
<p>ç¼–è¯‘</p>
<p>é€‰æ‹©æ¨¡æ‹Ÿå™¨è¿è¡Œä¸€é<br>é€‰æ‹©è®¾å¤‡è¿è¡Œä¸€é<br>æ­¥éª¤6</p>
<p>ç¼–å†™Pod</p>
<p>s.vendored_frameworks=â€™Products/*.frameworkâ€™<br>å®Œæˆ</p>

          
        
      
    </div>
    
    
    
    <div>
    
    <div>
    
    </div>

    <div>
      
    </div>
    
    

    

    
    
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/02/Xcode-Swift-Playground-å…³é—­è‡ªåŠ¨æ‰§è¡Œ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coder bruce">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bruce's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/02/Xcode-Swift-Playground-å…³é—­è‡ªåŠ¨æ‰§è¡Œ/" itemprop="url">Xcode Swift Playground å…³é—­è‡ªåŠ¨æ‰§è¡Œ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-05-02T12:36:37+08:00">
                2018-05-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOSå¼€å‘/" itemprop="url" rel="index">
                    <span itemprop="name">iOSå¼€å‘</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>è‹¹æœåœ¨å‘å¸ƒäº†Swiftå¼€å‘è¯­è¨€ä¹‹åï¼ŒåŠ å…¥äº†ç»ˆç«¯æ‰§è¡Œè¿™ç§ç±»ä¼¼äºPythonçš„ç‰¹æ€§ï¼Œå¹¶ä¸”åœ¨Xcodeä¸­æ·»åŠ äº†Playgroundè¿™ä¸ªå·¥å…·ã€‚</p>
<p>äºŒè€…éƒ½ä¸ºå¼€å‘è€…æä¾›ä¾¿åˆ©ï¼Œæˆ‘æ›´åŠ åçˆ±Playgroundï¼ˆä»£ç æç¤ºã€æ”¯æŒUIå±•ç¤ºï¼Œä¾§è¾¹æ æ‰§è¡Œç»“æœæç¤ºï¼‰ï¼Œè¯¸å¤šç‰¹æ€§ç¡®å®å¾ˆå¼ºå¤§ã€‚ä½†æ˜¯ç”±äºä¸è¶³å¤Ÿæˆç†Ÿï¼ŒPlaygroundåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ä¸€ç›´é¥±å—å ç”¨æ€§èƒ½å’Œé¢‘ç¹é—ªé€€çš„å›°æ‰°ï¼Œç©¶å…¶åŸå› ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯å…¶è‡ªåŠ¨æ‰§è¡Œå¯¼è‡´é¢‘ç¹ç¼–è¯‘ã€æ‰§è¡Œï¼Œå¯¼è‡´è®¾å¤‡CPUå ç”¨ç‡è¿‡é«˜ã€‚è€Œä¸”å†™ä»£ç çš„æ—¶å€™ï¼Œå³ä½¿ä»£ç æ²¡æœ‰å®Œæˆï¼ŒXcodeä¹Ÿä¼šè‡ªåŠ¨ç¼–è¯‘ï¼Œå¼¹å‡ºå„ç§æŠ¥é”™æç¤ºï¼Œä½“éªŒéå¸¸ä¸å¥½ã€‚</p>
<p>æ‰€ä»¥æˆ‘å†³å®šå…³æ‰è‡ªåŠ¨æ‰§è¡Œï¼Œåœ¨å†™å¥½ä»£ç ä¹‹åæ‰æ‰‹åŠ¨å»è§¦å‘ï¼Œè®¾ç½®å®Œæˆåå°±ä¼šå‘ç°ï¼Œæ•´ä¸ªä¸–ç•Œéƒ½å˜å¾—ç¾å¥½äº† ^_^ ã€‚</p>
<h3 id="å¦‚ä½•å…³é—­Playgroundçš„è‡ªåŠ¨æ‰§è¡Œ"><a href="#å¦‚ä½•å…³é—­Playgroundçš„è‡ªåŠ¨æ‰§è¡Œ" class="headerlink" title="å¦‚ä½•å…³é—­Playgroundçš„è‡ªåŠ¨æ‰§è¡Œ"></a>å¦‚ä½•å…³é—­Playgroundçš„è‡ªåŠ¨æ‰§è¡Œ</h3><p>ç¬¬ä¸€æ­¥ï¼šæ‰“å¼€åº•éƒ¨çŠ¶æ€æ <br><img src="https://github.com/a1049145827/Resources/raw/master/Xcode_playground_statusbar.jpg" alt="Xcode_playground_statusbar"></p>
<p>ç¬¬äºŒæ­¥ï¼šé•¿æŒ‰åº•éƒ¨çŠ¶æ€æ çš„æ‰§è¡ŒæŒ‰é’®ï¼Œåœ¨å¼¹å‡ºçš„èœå•ä¸­é€‰æ‹©æ‰‹åŠ¨æ‰§è¡Œ<br><img src="https://github.com/a1049145827/Resources/raw/master/Xcode_playground_manuallyRun.jpg" alt="Xcode_playground_manuallyRun"></p>
<p>ç®€å•ä¸¤æ­¥ï¼Œå‘Šåˆ«çƒ¦æ¼ï¼ˆæ‰‹åŠ¨æ»‘ç¨½ï¼‰ã€‚</p>

          
        
      
    </div>
    
    
    
    <div>
    
    <div>
    
    </div>

    <div>
      
    </div>
    
    

    

    
    
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          
        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.png"
               alt="Coder bruce" />
          <p class="site-author-name" itemprop="name">Coder bruce</p>
           
              <p class="site-description motion-element" itemprop="description">hello world</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">69</span>
                <span class="site-state-item-name">æ—¥å¿—</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">åˆ†ç±»</span>
              
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">17</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/a1049145827" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.jianshu.com/u/ff82b16c5264" target="_blank" title="ç®€ä¹¦">
                  
                    <i class="fa fa-fw fa-heartbeat"></i>
                  
                    
                      ç®€ä¹¦
                    
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Coder bruce</span>
</div>



<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_pv">
  æœ¬ç«™è®¿å®¢æ•°:<span id="busuanzi_value_site_pv"></span>æ¬¡
</span>
</div>







<div class="theme-info">
  <!-- <div class="powered-by"></div> -->
  <span class="post-count">åšå®¢å…¨ç«™å…±62.7kå­—</span>
</div>


        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>


        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>




  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
<!-- é¡µé¢ç‚¹å‡»å°çº¢å¿ƒ -->
<script type="text/javascript" src="/js/src/love.js"></script>