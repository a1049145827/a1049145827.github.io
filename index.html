<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="hello world">
<meta property="og:type" content="website">
<meta property="og:title" content="Bruce&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Bruce&#39;s Blog">
<meta property="og:description" content="hello world">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Bruce&#39;s Blog">
<meta name="twitter:description" content="hello world">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>Bruce's Blog</title>
  














</head>


<script type="text/javascript"
color="0,0,255" opacity='0.7' zIndex="-2" count="99" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>


<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <a href="https://github.com/a1049145827"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>
    
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Bruce's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Hi~</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/12/iOSå¼€å‘â€”â€”RunLoop/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coder bruce">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bruce's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/12/iOSå¼€å‘â€”â€”RunLoop/" itemprop="url">iOSå¼€å‘â€”â€”RunLoop</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-10-12T09:52:50+08:00">
                2018-10-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOSå¼€å‘/" itemprop="url" rel="index">
                    <span itemprop="name">iOSå¼€å‘</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>æƒ³è¦ç†è§£ RunLoop å…¶å®å¹¶ä¸éš¾ï¼Œä½†æ˜¯ç”±äº RunLoop éå¸¸æŠ½è±¡åŒ–ï¼Œå¾ˆå®¹æ˜“å¿˜è®°ï¼Œæ‰€ä»¥éœ€è¦æŠŠå®ƒè®°ä¸‹æ¥ï¼Œå¸¸å›é¡¾ä¸€ä¸‹ã€‚</p>
<h3 id="ä½•ä¸º-RunLoop-ï¼Ÿ"><a href="#ä½•ä¸º-RunLoop-ï¼Ÿ" class="headerlink" title="ä½•ä¸º RunLoop ï¼Ÿ"></a>ä½•ä¸º RunLoop ï¼Ÿ</h3><ol>
<li><p>ä»€ä¹ˆæ˜¯ RunLoopï¼Ÿ</p>
<p>â€‹        é¡¾åæ€ä¹‰ï¼ŒRunLoop å°±æ˜¯åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­å¾ªç¯åšä¸€äº›äº‹æƒ…ã€‚å‡†ç¡®æ˜¯è¯´ï¼ŒRunLoop å°±æ˜¯ä¸ºäº†è®©çº¿ç¨‹å¤„äºæ¿€æ´»çŠ¶æ€ã€‚å…¶ä½œç”¨å¦‚ä¸‹ï¼š</p>
<ol>
<li>ä¿æŒç¨‹åºçš„æŒç»­è¿è¡Œ</li>
<li>å¤„ç†Appä¸­çš„å„ç§äº‹ä»¶ï¼ˆè§¦æ‘¸ã€æ»‘åŠ¨ã€å®šæ—¶å™¨ç­‰ç­‰ï¼‰</li>
<li>èŠ‚çœCPUèµ„æºï¼Œæé«˜ç¨‹åºæ€§èƒ½ï¼šè¯¥åšäº‹çš„æ—¶å€™åšäº‹ï¼Œè¯¥ä¼‘æ¯çš„æ—¶å€™ä¼‘æ¯</li>
</ol>
</li>
<li><p>é¡¹ç›®ä¸­å“ªäº›åœ°æ–¹ä¼šç”¨åˆ° RunLoop ï¼Ÿ</p>
<ol>
<li>æ§åˆ¶çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸï¼ˆçº¿ç¨‹ä¿æ´» - ç»å¸¸ä½¿ç”¨ä¸€ä¸ªå­çº¿ç¨‹ï¼‰</li>
<li>è§£å†³ NSTimer åœ¨ ScrollView æ»‘åŠ¨æ—¶åœæ­¢å·¥ä½œçš„é—®é¢˜</li>
<li>ç›‘æ§ App å¡é¡¿</li>
<li>æ€§èƒ½ä¼˜åŒ–</li>
</ol>
</li>
</ol>
<h3 id="RunLoopä¸çº¿ç¨‹"><a href="#RunLoopä¸çº¿ç¨‹" class="headerlink" title="RunLoopä¸çº¿ç¨‹"></a>RunLoopä¸çº¿ç¨‹</h3><ol>
<li>æ¯ä¸€ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„RunLoopå¯¹è±¡ä¸ä¹‹å¯¹åº”ã€‚</li>
<li>è¿™äº› RunLoop å¯¹è±¡ä¿å­˜åœ¨ä¸€ä¸ªå…¨å±€çš„ CFMutableDictionary é‡Œï¼Œä»¥çº¿ç¨‹ä¸º keyï¼Œä»¥ RunLoop å¯¹è±¡ä¸º Valueã€‚</li>
<li>çº¿ç¨‹åˆšåˆ›å»ºçš„æ—¶å€™å¹¶æ²¡æœ‰ RunLoop å¯¹è±¡ï¼ŒRunLoop ä¼šåœ¨ç¬¬ä¸€æ¬¡è·å–å®ƒçš„æ—¶å€™åˆ›å»ºï¼Œmain çº¿ç¨‹çš„ RunLoop åˆšå¼€å§‹ä¼šæœ‰äººè·å–ã€‚ å­çº¿ç¨‹é»˜è®¤æ˜¯æ²¡æœ‰çš„ï¼Œæ‰€ä»¥å­çº¿ç¨‹é»˜è®¤æƒ…å†µä¸‹ä¼šåœ¨ä»£ç æ‰§è¡Œå®Œæ¯•åè‡ªåŠ¨é€€å‡ºã€‚</li>
<li>RunLoop ä¼šåœ¨çº¿ç¨‹ç»“æŸæ—¶é”€æ¯ã€‚</li>
<li>ä¸»çº¿ç¨‹çš„ RunLoop å·²ç»è‡ªåŠ¨è·å–ï¼ˆåˆ›å»ºï¼‰ï¼Œå­çº¿ç¨‹é»˜è®¤æ²¡æœ‰å¼€å¯ RunLoopã€‚</li>
</ol>
<p><strong>ä¸ªäººç†è§£ï¼š</strong>RunLoopå…¶å®å°±æ˜¯ç”¨æ¥çº¿ç¨‹ä¿æ´»çš„ï¼Œé¢‘ç¹çš„åˆ›å»ºé”€æ¯çº¿ç¨‹ä¼šæ¶ˆè€—èµ„æºã€‚</p>
<h3 id="RunLoop-çš„-Modeï¼ˆCFRunLoopModeRefï¼‰"><a href="#RunLoop-çš„-Modeï¼ˆCFRunLoopModeRefï¼‰" class="headerlink" title="RunLoop çš„ Modeï¼ˆCFRunLoopModeRefï¼‰"></a>RunLoop çš„ Modeï¼ˆCFRunLoopModeRefï¼‰</h3><ol>
<li><p>CFRunLoopModeRef ä»£è¡¨ RunLoop çš„è¿è¡Œæ¨¡å¼ã€‚</p>
</li>
<li><p>ä¸€ä¸ª RunLoop åŒ…å«è‹¥å¹²ä¸ª Modeï¼Œæ¯ä¸ª Mode åˆåŒ…å«è‹¥å¹²ä¸ª Source0ã€Source1ã€Timersã€Observers</p>
</li>
<li><p>RunLoop å¯åŠ¨çš„æ—¶å€™åªèƒ½é€‰æ‹©å…¶ä¸­ä¸€ä¸ª Modeï¼Œä½œä¸º CurrentModeã€‚å¤šä¸ª Mode ç›¸äº’ç‹¬ç«‹ äº’ä¸å¹²æ‰°ã€‚</p>
</li>
<li><p>RunLoop åŒæ—¶å¯ä»¥æœ‰å¤šä¸ªModeï¼Œä½†å½“å‰åªèƒ½æœ‰ä¸€ä¸ª Modeã€‚è¦åˆ‡æ¢ Modeï¼Œéœ€è¦é€€å‡º Loopï¼Œ é‡æ–°é€‰æ‹© Mode å†è¿›æ¥æ‰§è¡Œã€‚</p>
</li>
<li><p>å¦‚æœ Mode é‡Œæ²¡æœ‰ä»»ä½• Source0ã€Source1ã€Timersã€Observersï¼Œ RunLoopä¼šç«‹å³é€€å‡ºã€‚</p>
</li>
</ol>
<p><strong>ç»†èŠ‚</strong>ï¼šé€šè¿‡ Foundation API å’Œ Cè¯­è¨€ API è·å–åˆ°çš„ RunLoop å¯¹è±¡çš„å†…å­˜åœ°å€æ˜¯ä¸ä¸€æ ·çš„ï¼Œå› ä¸º NSRunLoop æ˜¯å¯¹ CFRunLoopRef çš„ä¸€å±‚å°è£…ã€‚</p>
<p><strong>å¸¸è§çš„ä¸¤ç§ Mode</strong></p>
<ol>
<li><strong>KCFRunLoopDefaultMode</strong>ï¼ˆNSDefaultRunLoopModeï¼‰ï¼šApp çš„é»˜è®¤ Modeï¼Œé€šå¸¸ä¸»çº¿ç¨‹æ˜¯åœ¨è¿™ä¸ª Mode ä¸‹è¿è¡Œã€‚</li>
<li><strong>UITrackingRunLoopMode</strong>ï¼šç•Œé¢è·Ÿè¸ª Mode ï¼Œç”¨äº ScrollView è¿½è¸ªè§¦æ‘¸æ»‘åŠ¨ï¼Œä¿è¯ç•Œé¢æ»‘åŠ¨æ—¶ä¸å—å…¶ä»– Mode å½±å“ã€‚</li>
<li>è¿˜æœ‰ä¸€ä¸ªå‡çš„æ¨¡å¼ï¼š<strong>NSRunLoopCommonModes</strong>ï¼Œæ³¨æ„å®ƒåé¢å¸¦äº†ä¸ª s ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªæ ‡è®°ï¼Œæ„ä¸ºç€åœ¨è®¾ç½®äº† common æ ‡è®°çš„æ¨¡å¼ä¸‹éƒ½èƒ½è¿è¡Œã€‚KCFRunLoopDefaultModeï¼ŒUITrackingRunLoopMode æ­£å¥½éƒ½åœ¨ _commonModes æ•°ç»„ä¸­ï¼ˆæœ‰ common æ ‡è®°ï¼‰ã€‚</li>
</ol>
<p><strong>Mode å†…åŒ…å«çš„ å­—æ®µçš„å«ä¹‰</strong></p>
<ol>
<li>Source0ï¼Œå¤„ç† UIç‚¹å‡»äº‹ä»¶ï¼ŒperformSelector:onThreadã€‚</li>
<li>Source1ï¼ŒåŸºäº Port çš„çº¿ç¨‹é—´é€šä¿¡ï¼Œç³»ç»Ÿäº‹ä»¶çš„æ•æ‰ï¼ˆç„¶ååˆ†å‘åˆ° Source0è¿›è¡Œå¤„ç†ï¼‰ã€‚</li>
<li>Timersï¼ŒNSTimerï¼ŒperformSelector:withObject:afterDelay: ã€‚</li>
<li>Observersï¼Œç”¨äºç›‘å¬ RunLoop çš„çŠ¶æ€ï¼ŒUI åˆ·æ–°ï¼ˆbeforeWaitingï¼‰ï¼ŒAutorelease Poolã€‚</li>
</ol>
<h3 id="RunLoop-çš„æ‰§è¡Œæµç¨‹"><a href="#RunLoop-çš„æ‰§è¡Œæµç¨‹" class="headerlink" title="RunLoop çš„æ‰§è¡Œæµç¨‹"></a>RunLoop çš„æ‰§è¡Œæµç¨‹</h3><ol>
<li>é€šçŸ¥Observersï¼šè¿›å…¥ RunLoop</li>
<li>é€šçŸ¥Observersï¼šå³å°†å¤„ç† Timers</li>
<li>é€šçŸ¥Observersï¼šå³å°†å¤„ç† Sources</li>
<li>å¤„ç† Blocks</li>
<li>å¤„ç† Source0ï¼ˆå¯èƒ½ä¼šå†æ¬¡å¤„ç† Blocksï¼‰</li>
<li>å¦‚æœå­˜åœ¨ Source1ï¼Œç›´æ¥è·³è½¬åˆ°ç¬¬8æ­¥é‡Œçš„ç¬¬3æ­¥</li>
<li>é€šçŸ¥ Observersï¼šå¼€å§‹ä¼‘çœ ï¼ˆç­‰å¾…æ¶ˆæ¯å”¤é†’ï¼‰</li>
<li>é€šçŸ¥ Observersï¼šç»“æŸä¼‘çœ ï¼ˆè¢«æŸä¸ªæ¶ˆæ¯å”¤é†’ï¼‰<ol>
<li>å¤„ç† Timers</li>
<li>å¤„ç† GCD Async To Main Queue</li>
<li>å¤„ç† Source1</li>
</ol>
</li>
<li>å¤„ç† Blocks</li>
<li>æ ¹æ®å‰é¢çš„æ‰§è¡Œç»“æœï¼Œå†³å®šæ¥ä¸‹æ¥å¦‚ä½•æ“ä½œ<ol>
<li>å›åˆ°ç¬¬2æ­¥</li>
<li>é€€å‡ºå½“å‰ Loop</li>
</ol>
</li>
<li>é€šçŸ¥ Observersï¼šé€€å‡º Loop</li>
</ol>
<h3 id="RunLoop-ä¼‘çœ çš„å®ç°åŸç†"><a href="#RunLoop-ä¼‘çœ çš„å®ç°åŸç†" class="headerlink" title="RunLoop ä¼‘çœ çš„å®ç°åŸç†"></a>RunLoop ä¼‘çœ çš„å®ç°åŸç†</h3><p>RunLoop ä¸­è°ƒç”¨äº†ç”±æ“ä½œç³»ç»Ÿæä¾›çš„ mach_msg() å‡½æ•°ï¼Œè®©çº¿ç¨‹ç”±ç”¨æˆ·æ€è½¬å˜ä¸ºå†…æ ¸æ€ï¼Œä»è€Œå®ç°æ—¢ä¸å ç”¨ CPU èµ„æºä¹Ÿä¸é€€å‡ºçš„ä¼‘çœ çŠ¶æ€ã€‚</p>
<h3 id="ä¸€äº›é›¶ç¢çš„æ³¨æ„ç‚¹"><a href="#ä¸€äº›é›¶ç¢çš„æ³¨æ„ç‚¹" class="headerlink" title="ä¸€äº›é›¶ç¢çš„æ³¨æ„ç‚¹"></a>ä¸€äº›é›¶ç¢çš„æ³¨æ„ç‚¹</h3><p>æ³¨æ„ï¼š<strong>æ§åˆ¶å™¨</strong>çš„ -dealloc é»˜è®¤æ˜¯åœ¨<strong>ä¸»çº¿ç¨‹</strong>æ‰§è¡Œçš„ã€‚</p>
<p>æ³¨æ„ï¼šperformSelector:withObject:afterDelay: çš„æœ¬è´¨æ˜¯å¾€Runloopä¸­æ·»åŠ å®šæ—¶å™¨ï¼Œå­çº¿ç¨‹é»˜è®¤æ²¡æœ‰å¯åŠ¨RunLoopã€‚</p>
<p>æ³¨æ„ï¼šä¸€ä¸ªçº¿ç¨‹ä¸€æ—¦æ‰§è¡Œå®Œä»»åŠ¡å°±ä¼šé”€æ¯ï¼Œå†ä¹Ÿæ— æ³•æ‰§è¡Œå…¶ä»–ä»»åŠ¡ã€‚ä¾‹å¦‚ä¸‹é¢çš„ NSThread å¯¹è±¡ï¼Œä¸€æ—¦ block é‡Œçš„ä»£ç æ‰§è¡Œå®Œï¼Œè¿™ä¸ª thread å°†ä¸å†æ‰§è¡Œä»»ä½•ä»£ç ã€‚å¦‚æœéœ€è¦çº¿ç¨‹ä¿æ´»ï¼Œå°±è¦ç”¨åˆ° RunLoopã€‚</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSThread</span> *thread = [[<span class="built_in">NSThread</span> alloc] initWithBlock:^&#123;</div><div class="line">    <span class="comment">// é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰§è¡Œå®Œè¿™ä¸ªæ‰“å°ï¼Œè¯¥çº¿ç¨‹å°±ä¼šé”€æ¯</span></div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"abc"</span>);</div><div class="line">&#125;];</div><div class="line">[thread start];</div></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼šä¸»çº¿ç¨‹å‡ ä¹æ‰€æœ‰çš„äº‹æƒ…éƒ½äº¤ç»™äº† RunLoop å»åšï¼Œæ¯”å¦‚ UI åˆ·æ–°ï¼Œç‚¹å‡»äº‹ä»¶çš„å¤„ç†ï¼ŒperformSelector ç­‰ã€‚</p>

          
        
      
    </div>
    
    
    
    <div>
    
    <div>
    
    </div>

    <div>
      
    </div>
    
    

    

    
    
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/06/ä½¿ç”¨Vapor3è¿›è¡ŒAPNSæ¨é€/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coder bruce">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bruce's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/06/ä½¿ç”¨Vapor3è¿›è¡ŒAPNSæ¨é€/" itemprop="url">ä½¿ç”¨Vapor3è¿›è¡ŒAPNSæ¨é€</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-09-06T15:46:37+08:00">
                2018-09-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOSå¼€å‘/" itemprop="url" rel="index">
                    <span itemprop="name">iOSå¼€å‘</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æœ¬æ–‡ä¸å®Œå…¨ç¿»è¯‘è‡ª<a href="https://medium.com/@nathantannar4/supporting-push-notifications-with-vapor-3-3f6cc959c789" target="_blank" rel="external">Medium</a>ï¼ˆç”±äºå®Œå…¨æŒ‰ç…§åŸæ–‡æ•™ç¨‹å¹¶ä¸èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œæœ¬äººé‡‡å‘åæ€»ç»“äº†ä¸å°‘ç»éªŒï¼Œå¸Œæœ›èƒ½å¸®åŠ©å¤§å®¶å°‘èµ°å¼¯è·¯ï¼Œä¸€æ¬¡æ€§æˆåŠŸï¼‰ã€‚</p>
<p><img src="https://cdn-images-1.medium.com/max/800/1*AnprRRx9EpqSEo72f23H5g.png" alt="img"></p>
<p><strong>ä»Swiftå†…éƒ¨æ‰§è¡ŒcURLå‘½ä»¤</strong></p>
<p>å‡ å‘¨å‰ï¼Œæˆ‘å†³å®šå­¦ä¹  Vapor3 æ¡†æ¶ã€‚æˆ‘å¸Œæœ›èƒ½å¤Ÿä¸ºæœªæ¥çš„é¡¹ç›®å¼€å‘ä¸€ä¸ªåç«¯APIï¼Œè€Œä¸éœ€è¦ä¾èµ–æˆ‘çš„goto, Parse Serverã€‚è¿™æ˜¯ä¸€ä¸ªå¿«é€Ÿæ“ä½œæŒ‡å—ï¼Œå‘Šè¯‰ä½  Vapor å®Œå…¨å¯ä»¥èƒœä»»ï¼æœ¬æ–‡æ¶‰åŠåˆ°çš„æ‰€æœ‰ä»£ç éƒ½å¯ä»¥åœ¨æˆ‘çš„ GitHub é‡Œæ‰¾åˆ°ã€‚</p>
<p>ä¸ºäº†è·å¾—å¯¹æ¡†æ¶çš„ä¸€äº›ç»éªŒï¼Œå¹¶æŸ¥çœ‹ä¸€äº›ç”¨ä¾‹ç¤ºä¾‹ï¼Œæˆ‘ä» Ray Wenderlich çš„ç½‘ç«™ä¸Šè´­ä¹°äº† â€œServer Side Swift with Vaporâ€ ç”µå­ä¹¦ã€‚æˆ‘æŠŠä¹¦ä»å¤´åˆ°å°¾è¯»äº†ä¸€éä»¥äº†è§£åŸºæœ¬çŸ¥è¯†ã€‚ä¸‹ä¸€æ­¥å‡†å¤‡å°è¯•å°†æˆ‘å¸¸ç”¨çš„è§£ææœåŠ¡å™¨çš„åŠŸèƒ½ç§»æ¤åˆ°ä¸€ä¸ª Vapor3 åº”ç”¨ç¨‹åºä¸Šã€‚ä¸è¿‡å½“æˆ‘è¦å®ç°æ¨é€é€šçŸ¥æ—¶ï¼Œæˆ‘é‡åˆ°äº†ä¸€ä¸ªéšœç¢ã€‚</p>
<p>è‹¹æœçš„APNséœ€è¦ä½¿ç”¨HTTP/2è¿›è¡Œè¿æ¥ï¼Œä½†æ˜¯SwiftNIO ï¼ˆVapor3çš„æ ¸å¿ƒç½‘ç»œä¾èµ–ï¼‰è¿˜ä¸æ”¯æŒHTTP/2åè®®ã€‚æˆ‘æƒ³æˆ‘å¯èƒ½éœ€è¦ä½¿ç”¨ä¸€äº›ç¬¬ä¸‰æ–¹çš„è§£å†³æ–¹æ¡ˆï¼Œä½†æˆ‘ä¸æƒ³è¦é‚£ç§ä¾èµ–ã€‚æˆ‘å†³å®šæµè§ˆä¸€ä¸‹<a href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwiy9f3btYzdAhVDHTQIHZl4B2cQFjAAegQICRAB&amp;url=https%3A%2F%2Fdeveloper.apple.com%2Fgo%2F%3Fid%3Dpush-notifications&amp;usg=AOvVaw0e_Cv59CoeHYuKK70RqK38" target="_blank" rel="external">è‹¹æœçš„å¼€å‘æ–‡æ¡£</a>ï¼Œçœ‹çœ‹ä½¿ç”¨cURLè¿æ¥APNséœ€è¦åšäº›ä»€ä¹ˆã€‚</p>
<p>é¦–å…ˆï¼Œæ‚¨éœ€è¦ä¸€ä¸ªä»˜è´¹çš„Apple Developerå¸æˆ·å’Œä¸€ä¸ªæ‚¨å·²ç»é…ç½®äº†æ¨é€é€šçŸ¥çš„æ¼”ç¤ºåº”ç”¨ç¨‹åºã€‚æ‚¨å°†éœ€è¦è¿è¡Œæ¼”ç¤ºåº”ç”¨ç¨‹åºå¹¶è·å¾—è®¾å¤‡ä»¤ç‰Œï¼Œè¯¥ä»¤ç‰Œå°†ç¨åå‘é€åˆ°æµ‹è¯•APNsã€‚</p>
<p>HTTP/2 cURLè¯·æ±‚éœ€è¦ä¸€ä¸ªè¯ä¹¦ã€‚ç¬¬ä¸€æ­¥æ˜¯ä»Apple developerå¸æˆ·ç”Ÿæˆæ‰€éœ€çš„è¯ä¹¦ã€‚æˆ‘ä¸ä¼šè¯¦ç»†ä»‹ç»å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ï¼Œå› ä¸ºå·²ç»æœ‰å‡ ä¸ªæ•™ç¨‹äº†ã€‚éœ€è¦åˆå¹¶.ceræ–‡ä»¶å’Œ.p12æ–‡ä»¶ã€‚è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œè¯·éµå¾ªä»¥ä¸‹bashè„šæœ¬:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#!/bin/bash</span></div><div class="line"></div><div class="line"><span class="comment"># Convert the .cer file into a .pem file:</span></div><div class="line">openssl x509 -<span class="keyword">in</span> aps_development.cer -inform der -out cert.pem</div><div class="line"></div><div class="line"><span class="comment"># Convert the private keyâ€™s .p12 file into a .pem file:</span></div><div class="line">openssl pkcs12 -nocerts -<span class="keyword">in</span> aps_development.p12 -out key.pem</div><div class="line"></div><div class="line"><span class="comment"># Finally, combine the certificate and key into a single .pem file</span></div><div class="line">cat cert.pem key.pem &gt; aps_development.pem</div></pre></td></tr></table></figure>
<p>ã€€</p>
<p>æœ‰äº†æ–°çš„å…¬å…±/ç§æœ‰ç»„åˆè¯ä¹¦ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥å°è¯•ä½¿ç”¨cURLä¸APNsé€šä¿¡ã€‚</p>
<p><strong>ï¼ˆè¯‘è€…æ³¨ï¼‰è¿™é‡Œæœ‰ä¸ªæ³¨æ„ç‚¹ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬ä½¿ç”¨çš„curlå·¥å…·æ˜¯ç³»ç»Ÿè‡ªå¸¦çš„ï¼Œç‰ˆæœ¬å¯èƒ½è¾ƒä½</strong></p>
<p>å¦‚æœå‡ºç°äº†<code>curl: (1) Unsupported protocol http2</code>é”™è¯¯ï¼Œåˆ™éœ€è¦æ›´æ–°curlæˆ–è€…å®‰è£…å¸¦æœ‰nghttp2çš„ç‰ˆæœ¬ï¼Œè¿™é‡Œå¢™è£‚æ¨èä½¿ç”¨Homebrewè¿›è¡Œå®‰è£…ï¼Œä¸€æ¡å‘½ä»¤æå®šï¼š<code>brew install curl --with-nghttp2</code>ï¼Œå¦‚æœå·²ç»å®‰è£…è¿‡äº†ï¼Œå°±é‡è£…ä¸€ä¸‹ï¼š<code>brew reinstall curl --with-nghttp2</code>ï¼Œå®‰è£…å¥½äº†ä¹‹åä¸è¦å¿˜è®° <strong>æ ¹æ®æç¤º</strong> æ·»åŠ å¹¶åˆ·æ–°ç¯å¢ƒå˜é‡ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -d &lt;apns_payload&gt; -H <span class="string">"apns-topic:&lt;bundleId&gt;"</span> -H <span class="string">"apns-expiration:1"</span> -H <span class="string">"apns-priority:10"</span> --http2-prior-knowledge --cert /Users/bruce/Desktop/Demo/Hello/private/aps_development.pem:&lt;password&gt; https://api.development.push.apple.com/3/device/&lt;device_token&gt;</div></pre></td></tr></table></figure>
<hr>
<p>è¯·æ±‚æˆåŠŸäº†ï¼ˆæ²¡æœ‰æŠ¥é”™å³ä»£è¡¨æˆåŠŸï¼‰ï¼ç°åœ¨æˆ‘ä»¬èƒ½å¤Ÿåœ¨Appä¸Šæ”¶åˆ°é€šçŸ¥ã€‚æœ€åä¸€æ­¥æ˜¯æŠŠä»£ç å°è£…ä¸€ä¸‹ï¼Œä¾¿äºå°†å…¶æ¥å…¥åˆ° Vapor3 åº”ç”¨ç¨‹åºä¸­ï¼Œåœ¨åå°å¯åŠ¨cURLè¯·æ±‚ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°æ³¨å†Œ Shell æœåŠ¡çš„ä»£ç ï¼š</p>
<p><a href="https://github.com/nathantannar4/the.phoenix.project/blob/master/Sources/App/Services/Shell.swift" target="_blank" rel="external">https://github.com/nathantannar4/the.phoenix.project/blob/master/Sources/App/Services/Shell.swift</a></p>
<p>è¯¥æœåŠ¡å¯ä»¥åŠ å…¥æˆ‘ä»¬æ‰€éœ€çš„å‚æ•°å¹¶æ‰§è¡Œ bash å‘½ä»¤ã€‚ä¸‹é¢æ˜¯ Vapor3 çš„ç®€å•ç¤ºä¾‹ï¼š</p>
<p><strong>ï¼ˆè¯‘è€…æ³¨ï¼‰ä¸ºäº†é¿å…å¤§å®¶é‡‡å‘ï¼Œè¿™é‡Œç»™å‡ºä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹ï¼Œè¯·ä¸€å®šè¦æŒ‰ç…§æ ¼å¼æ¥å¡«å……å†…å®¹ï¼Œå¦åˆ™Shellå¾ˆå¯èƒ½æ‰§è¡Œå‡ºé”™ã€‚</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> shell = <span class="keyword">try</span> req.make(<span class="type">Shell</span>.<span class="keyword">self</span>)</div><div class="line"><span class="keyword">let</span> jsonAPNSPayloadString = <span class="string">"&#123;\"aps\":&#123;\"alert\":&#123;\"body\":\"æ‚¨æœ‰ä¸€æ¡æ–°æ¶ˆæ¯\"&#125;,\"badge\":1,\"sound\":\"default\"&#125;,\"f\":\"6001\",\"t\":\"6006\",\"m\":\"373360335316321408\"&#125;"</span></div><div class="line"><span class="keyword">let</span> bundleId = <span class="string">"com.qianbao.merchantApp"</span></div><div class="line"><span class="keyword">let</span> certPath = <span class="string">"/Users/bruce/Desktop/Demo/Hello/private/aps_development.pem"</span></div><div class="line"><span class="keyword">let</span> password = <span class="string">"123456"</span></div><div class="line"><span class="keyword">let</span> apnsURL = <span class="string">"https://api.development.push.apple.com/3/device/"</span></div><div class="line"><span class="keyword">let</span> token = <span class="string">"a452171d01a3df308449a63a730d616190a1cd587bda4cd8086c2651a32ba383"</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> arguments = [<span class="string">"-d"</span>, jsonAPNSPayloadString, <span class="string">"-H"</span>, <span class="string">"\"apns-topic:\(bundleId)\""</span>, <span class="string">"-H"</span>, <span class="string">"\"apns-expiration:1\""</span>, <span class="string">"-H"</span>, <span class="string">"\"apns-priority:10\""</span>, <span class="string">"--http2-prior-knowledge"</span>, <span class="string">"-E"</span>, <span class="string">"\(certPath):\(password)"</span>, apnsURL + token]</div><div class="line"><span class="built_in">print</span>(arguments.joined(separator: <span class="string">" "</span>))</div><div class="line"></div><div class="line"><span class="keyword">let</span> res = <span class="keyword">try</span> shell.execute(commandName: <span class="string">"/usr/local/opt/curl/bin/curl"</span>, arguments: arguments)</div><div class="line"><span class="keyword">let</span> <span class="number">_</span> = res.<span class="built_in">map</span> &#123; (data: <span class="type">Data</span>) <span class="keyword">in</span></div><div class="line">    <span class="keyword">let</span> s = <span class="type">String</span>.<span class="keyword">init</span>(data: data, encoding: .utf8) ?? <span class="string">"null"</span>;</div><div class="line">    <span class="built_in">print</span>(s)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>ï¼ˆè¯‘è€…æ³¨ï¼‰ä¸è¦å¿˜è®°åœ¨configure.swiftä¸­æ·»åŠ æœåŠ¡</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">services.register(<span class="type">Shell</span>.<span class="keyword">self</span>)</div></pre></td></tr></table></figure>
<p>è¿™åªæ˜¯ä¸€ä¸ªç®€å•çš„ä¸´æ—¶æ–¹æ¡ˆã€‚å¾ˆå¿«ï¼ŒSwiftNIOå°†æ”¯æŒHTTP/2ï¼Œå±Šæ—¶ï¼ŒVapor3 ä¹Ÿä¼šæ”¯æŒHTTP/2ã€‚åœ¨ç¤¾åŒºä¸­å·²ç»å­˜åœ¨ä¸€ä¸ªå¾ˆå¥½çš„repo (<a href="https://github.com/vapor-community/apns" target="_blank" rel="external">https://github.com/vapor-community/apns</a>)ã€‚åˆ°æ—¶å€™åœ¨ Vapor3åº”ç”¨ä¸­è¿›è¡Œ APNs è¯·æ±‚çš„ç¼–ç /è§£ç å°†å˜å¾—æ›´åŠ ç®€å•ã€‚</p>
<p>iOSç«¯åªéœ€è¦åˆ›å»ºä¸ªå£³å·¥ç¨‹ï¼ŒæŠŠæ¨é€çš„ä»£ç é›†æˆè¿›å»ï¼Œå¯åŠ¨ä¸€æ¬¡ï¼Œå…è®¸å‘é€é€šçŸ¥ï¼Œç„¶åæ‹¿åˆ° APNS çš„ DeviceToken å°±å¯ä»¥æ„‰å¿«çš„è¿›è¡Œæ¨é€æµ‹è¯•å•¦ï¼Œhave a enjoy day ğŸ˜„ã€‚</p>

          
        
      
    </div>
    
    
    
    <div>
    
    <div>
    
    </div>

    <div>
      
    </div>
    
    

    

    
    
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/05/JSä¸­å‡ºç°çš„å…¼å®¹æ€§é—®é¢˜çš„æ€»ç»“-ï¼ˆæŒç»­æ›´æ–°ï¼‰/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coder bruce">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bruce's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/05/JSä¸­å‡ºç°çš„å…¼å®¹æ€§é—®é¢˜çš„æ€»ç»“-ï¼ˆæŒç»­æ›´æ–°ï¼‰/" itemprop="url">JSä¸­å‡ºç°çš„å…¼å®¹æ€§é—®é¢˜çš„æ€»ç»“ ï¼ˆæŒç»­æ›´æ–°ï¼‰</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-09-05T14:13:03+08:00">
                2018-09-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOSå¼€å‘/" itemprop="url" rel="index">
                    <span itemprop="name">iOSå¼€å‘</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>1.å…³äºè·å–è¡Œå¤–æ ·å¼ currentStyle å’Œ getComputedStyle å‡ºç°çš„å…¼å®¹æ€§é—®é¢˜</strong><br>  æˆ‘ä»¬éƒ½çŸ¥é“jsé€šè¿‡styleä¸å¯ä»¥è·å–è¡Œå¤–æ ·å¼ï¼Œå½“æˆ‘ä»¬éœ€è¦è·å–è¡Œå¤–æ ·å¼æ—¶:<br>  æˆ‘ä»¬ä¸€èˆ¬é€šè¿‡è¿™ä¸¤ä¸ªæ–¹æ³•è·å–è¡Œå¤–æ ·å¼ï¼š<br>  IEä¸‹: <code>currentStyle</code><br>  Chromeã€FFä¸‹: <code>getComputedStyle(oDiv, false)</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// å…¼å®¹ä¸¤ä¸ªæµè§ˆå™¨çš„å†™æ³•:</span></div><div class="line"><span class="keyword">if</span> (oDiv.currentStyle) &#123;</div><div class="line">    <span class="built_in">console</span>.log(oDiv.currentStyle.width);</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="built_in">console</span>.log(getComputedStyle(oDiv, <span class="literal">false</span>).width);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><em>æ³¨:åœ¨è§£å†³å¾ˆå¤šå…¼å®¹æ€§å†™æ³•æ—¶ï¼Œéƒ½æ˜¯ç”¨if..else..</em></p>
<p>å°è£…ä¸€ä¸ªè·å–è¡Œå¤–æ ·å¼çš„å‡½æ•°:(å…¼å®¹æ‰€æœ‰æµè§ˆå™¨ï¼ŒåŒ…æ‹¬ä½ç‰ˆæœ¬IE6ã€7)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">funtion getStyle(obj, name) &#123;</div><div class="line">    <span class="keyword">if</span> (obj.currentStyle) &#123;</div><div class="line">        <span class="comment">// IE</span></div><div class="line">        <span class="keyword">return</span> obj.currentStyle[name];</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="comment">// Chromeã€FF</span></div><div class="line">        <span class="keyword">return</span> getComputedStyle(obj, <span class="literal">false</span>)[name];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ã€€<br>è°ƒç”¨ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">getStyle(oDiv, <span class="string">"width"</span>);</div></pre></td></tr></table></figure>
<p>ã€€<br><strong>2.å…³äºç”¨â€œç´¢å¼•â€è·å–å­—ç¬¦ä¸²æ¯ä¸€é¡¹å‡ºç°çš„å…¼å®¹æ€§é—®é¢˜:</strong><br>  å¯¹äºå­—ç¬¦ä¸²ä¹Ÿæœ‰ç±»ä¼¼äº æ•°ç»„ è¿™æ ·çš„é€šè¿‡ ä¸‹æ ‡ç´¢å¼• è·å–æ¯ä¸€é¡¹çš„å€¼</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">"abcde"</span>;</div><div class="line"><span class="built_in">console</span>.log(str[<span class="number">1</span>]);</div></pre></td></tr></table></figure>
<p>ä½†æ˜¯ä½ç‰ˆæœ¬çš„æµè§ˆå™¨IE6ï¼Œ7ä¸å…¼å®¹<br>å…¼å®¹æ–¹æ³•:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">str.charAt(i)    <span class="comment">//å…¨éƒ¨æµè§ˆå™¨éƒ½å…¼å®¹</span></div></pre></td></tr></table></figure>
<p>ã€€<br>â€‹æ¡ˆä¾‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str=<span class="string">"abcde"</span>;</div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; str.length; i++) &#123;</div><div class="line">    <span class="built_in">console</span>.log(str.charAt(i));   <span class="comment">// å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸€é¡¹</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ã€€<br><strong>3.å…³äºDOMä¸­ childNodes è·å–å­èŠ‚ç‚¹å‡ºç°çš„å…¼å®¹æ€§é—®é¢˜</strong><br>  childNodes:è·å–å­èŠ‚ç‚¹ï¼Œ<br>    â€“IE6-8:è·å–çš„æ˜¯å…ƒç´ èŠ‚ç‚¹ï¼Œæ­£å¸¸<br>    â€“é«˜ç‰ˆæœ¬æµè§ˆå™¨:ä½†æ˜¯ä¼šåŒ…å«æ–‡æœ¬èŠ‚ç‚¹å’Œå…ƒç´ èŠ‚ç‚¹(ä¸æ­£å¸¸)<br>  è§£å†³æ–¹æ³•: ä½¿ç”¨nodeType:èŠ‚ç‚¹çš„ç±»å‹ï¼Œå¹¶ä½œå‡ºåˆ¤æ–­<br>      â€“nodeType=3â€“&gt;æ–‡æœ¬èŠ‚ç‚¹<br>      â€“nodeTyPE=1â€“&gt;å…ƒç´ èŠ‚ç‚¹<br>  ä¾‹: è·å–ulé‡Œæ‰€æœ‰çš„å­èŠ‚ç‚¹ï¼Œè®©æ‰€æœ‰çš„å­èŠ‚ç‚¹èƒŒæ™¯è‰²å˜æˆçº¢è‰²<br>  è·å–å…ƒç´ å­èŠ‚ç‚¹å…¼å®¹çš„æ–¹æ³•:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> oUl = <span class="built_in">document</span>.getElementById(<span class="string">"ul"</span>);</div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; oUl.childNodes.length; i++) &#123;</div><div class="line">    <span class="keyword">if</span> (oUl.childNodes[i].nodeType == <span class="number">1</span>) &#123;</div><div class="line">        oUl.childNodes[i].style.background = <span class="string">"red"</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>  æ³¨ï¼šä¸Šé¢childNodesä¸ºæˆ‘ä»¬å¸¦æ¥çš„å›°æ‰°å®Œå…¨å¯ä»¥æœ‰childrenå±æ€§æ¥ä»£æ›¿ã€‚<br>      childrenå±æ€§:åªè·å–å…ƒç´ èŠ‚ç‚¹ï¼Œä¸è·å–æ–‡æœ¬èŠ‚ç‚¹ï¼Œå…¼å®¹æ‰€æœ‰çš„æµè§ˆå™¨ï¼Œ<br>      æ¯”ä¸Šé¢çš„å¥½ç”¨æ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬è·å–å­èŠ‚ç‚¹æ—¶ï¼Œæœ€å¥½ç”¨childrenå±æ€§ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> oUl = <span class="built_in">document</span>.getElementById(<span class="string">"ul"</span>);</div><div class="line">oUl.children.style.background = <span class="string">"red"</span>;</div></pre></td></tr></table></figure>
<p>ã€€<br><strong>4.å…³äºä½¿ç”¨ firstChild, lastChild ç­‰ï¼Œè·å–ç¬¬ä¸€ä¸ª/æœ€åä¸€ä¸ªå…ƒç´ èŠ‚ç‚¹æ—¶äº§ç”Ÿçš„é—®é¢˜</strong><br>  â€“IE6-8ä¸‹: <code>firstChild, lastChild, nextSibling, previousSibling</code>ï¼Œè·å–ç¬¬ä¸€ä¸ªå…ƒç´ èŠ‚ç‚¹<br>        (é«˜ç‰ˆæœ¬æµè§ˆå™¨IE9+ã€FFã€Chromeä¸å…¼å®¹ï¼Œå…¶è·å–çš„ç©ºç™½æ–‡æœ¬èŠ‚ç‚¹)<br>  â€“é«˜ç‰ˆæœ¬æµè§ˆå™¨ä¸‹: <code>firstElementChild, lastElementChild, nextElementSibling, previousElementSibling</code><br>      (ä½ç‰ˆæœ¬æµè§ˆå™¨IE6-8ä¸å…¼å®¹)<br>  â€“å…¼å®¹å†™æ³•: æ‰¾åˆ°ulçš„ç¬¬ä¸€ä¸ªå…ƒç´ èŠ‚ç‚¹ï¼Œå¹¶å°†å…¶èƒŒæ™¯è‰²å˜æˆçº¢è‰²</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> oUl = <span class="built_in">document</span>.getElementById(<span class="string">'ul'</span>);</div><div class="line"><span class="keyword">if</span> (oUl.firstElementChild) &#123;</div><div class="line">    <span class="comment">// é«˜ç‰ˆæœ¬æµè§ˆå™¨</span></div><div class="line">    oUl.firstElementChild.style.background = <span class="string">'red'</span>;</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="comment">// IE6-8</span></div><div class="line">    oUl.firstChild.style.background = <span class="string">'red'</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ã€€<br><strong>5.å…³äºä½¿ç”¨ eventå¯¹è±¡ï¼Œå‡ºç°çš„å…¼å®¹æ€§é—®é¢˜</strong><br>    å¦‚: è·å–é¼ æ ‡ä½ç½®<br>            IEã€Chrome: <code>event.clientX;event.clientY</code><br>            FFã€IE9ä»¥ä¸Šã€Chrome: <code>ä¼ å‚ev--&gt; ev.clientX;ev.clientY</code><br>    è·å–eventå¯¹è±¡å…¼å®¹æ€§å†™æ³•: </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> oEvent == ev || event;</div></pre></td></tr></table></figure>
<p>æ¡ˆä¾‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">document</span>.oncilck = <span class="function"><span class="keyword">function</span>(<span class="params">ev</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> oEvent == ev || event;</div><div class="line">    <span class="keyword">if</span> (oEvent) &#123;</div><div class="line">        <span class="built_in">console</span>.log(oEvent.clientX);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ã€€<br><strong>6.å…³äºä¸ºä¸€ä¸ªå…ƒç´ ç»‘å®šä¸¤ä¸ªç›¸åŒäº‹ä»¶ï¼šattachEvent/addEventListener å‡ºç°çš„å…¼å®¹é—®é¢˜</strong><br>    äº‹ä»¶ç»‘å®š:(ä¸å…¼å®¹éœ€è¦ä¸¤ä¸ªç»“åˆåšå…¼å®¹if..else..)<br>    IE8ä»¥ä¸‹ç”¨: <code>attachEvent(&#39;äº‹ä»¶å&#39;, fn);</code><br>    FFã€ Chromeã€ IE9ä»¥åç”¨: <code>addEventListener(&#39;äº‹ä»¶å&#39;, fn, false);</code><br>    å¤šäº‹ä»¶ç»‘å®šå°è£…æˆä¸€ä¸ªå…¼å®¹å‡½æ•°:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myAddEvent</span>(<span class="params">obj, ev, fn</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (obj.attachEvent) &#123;</div><div class="line">        <span class="comment">// IE8ä»¥ä¸‹</span></div><div class="line">        obj.attachEvent(<span class="string">'on'</span>+ev, fn);</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (obj.addEventListener) &#123;</div><div class="line">        <span class="comment">// FFã€Chromeã€IE9ä»¥å</span></div><div class="line">        obj.addEventListener(ev, fn, <span class="literal">false</span>);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="comment">// å…¶ä»–</span></div><div class="line">        obj[<span class="string">'on'</span>+ev] = fn;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// è°ƒç”¨</span></div><div class="line">myAddEvent(oBtn, <span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(a);</div><div class="line">&#125;);</div><div class="line">myAddEvent(oBtn, <span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(b);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>ã€€<br><strong>7.å…³äºè·å–æ»šåŠ¨æ¡è·ç¦»è€Œå‡ºç°çš„é—®é¢˜</strong><br>  å½“æˆ‘ä»¬è·å–æ»šåŠ¨æ¡æ»šåŠ¨è·ç¦»æ—¶:<br>        IEã€Chrome: <code>document.body.scrollTop</code><br>        FF: <code>document.documentElement.scrollTop</code><br>å…¼å®¹å¤„ç†:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> scrollTop = <span class="built_in">document</span>.documentElement.scrollTop || <span class="built_in">document</span>.body.scrollTop</div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    
    <div>
    
    <div>
    
    </div>

    <div>
      
    </div>
    
    

    

    
    
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/05/æ¸…é™¤æµ®åŠ¨/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coder bruce">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bruce's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/05/æ¸…é™¤æµ®åŠ¨/" itemprop="url">CSSæ¸…é™¤æµ®åŠ¨</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-09-05T14:11:09+08:00">
                2018-09-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOSå¼€å‘/" itemprop="url" rel="index">
                    <span itemprop="name">iOSå¼€å‘</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>æ–¹æ³•ä¸€ï¼šä½¿ç”¨å¸¦clearå±æ€§çš„ç©ºå…ƒç´ </strong></p>
<p>åœ¨æµ®åŠ¨å…ƒç´ åä½¿ç”¨ä¸€ä¸ªç©ºå…ƒç´ å¦‚ <code>&lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;</code> ï¼Œå¹¶åœ¨ CSS ä¸­èµ‹äºˆ <code>.clear{clear:both;}</code> å±æ€§å³å¯æ¸…ç†æµ®åŠ¨ã€‚äº¦å¯ä½¿ç”¨ <code>&lt;br class=&quot;clear&quot; /&gt;</code> æˆ– <code>&lt;hr class=&quot;clear&quot; /&gt;</code> æ¥è¿›è¡Œæ¸…ç†ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">.news &#123;</div><div class="line">	background-color: gray;</div><div class="line">	border: solid <span class="number">1</span>px black;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.news img &#123;</div><div class="line">	float: left;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.news p &#123;</div><div class="line">	float: right;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.clear &#123;</div><div class="line">	clear: both;</div><div class="line">&#125;</div><div class="line"></div><div class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"news"</span>&gt;</div><div class="line">    &lt;img src=<span class="string">"news-pic.jpg"</span> /&gt;</div><div class="line">    &lt;p&gt;some text&lt;<span class="regexp">/p&gt;</span></div><div class="line"><span class="regexp">    &lt;div class="clear"&gt;&lt;/</span>div&gt;</div><div class="line">&lt;<span class="regexp">/div&gt;</span></div></pre></td></tr></table></figure>
<p>ä¼˜ç‚¹ï¼šç®€å•ï¼Œä»£ç å°‘ï¼Œæµè§ˆå™¨å…¼å®¹æ€§å¥½ã€‚</p>
<p>ç¼ºç‚¹ï¼šéœ€è¦æ·»åŠ å¤§é‡æ— è¯­ä¹‰çš„ html å…ƒç´ ï¼Œä»£ç ä¸å¤Ÿä¼˜é›…ï¼ŒåæœŸä¸å®¹æ˜“ç»´æŠ¤ã€‚</p>
<p> ã€€</p>
<p><strong>æ–¹æ³•äºŒï¼šä½¿ç”¨CSSçš„overflowå±æ€§</strong></p>
<p>ç»™æµ®åŠ¨å…ƒç´ çš„å®¹å™¨æ·»åŠ  <code>overflow:hidden;</code> æˆ– <code>overflow:auto;</code> å¯ä»¥æ¸…é™¤æµ®åŠ¨ï¼Œå¦å¤–åœ¨ IE6 ä¸­è¿˜éœ€è¦è§¦å‘ hasLayout ï¼Œä¾‹å¦‚ä¸ºçˆ¶å…ƒç´ è®¾ç½®å®¹å™¨å®½é«˜æˆ–è®¾ç½® <code>zoom:1</code>ã€‚</p>
<p>åœ¨æ·»åŠ overflowå±æ€§åï¼Œæµ®åŠ¨å…ƒç´ åˆå›åˆ°äº†å®¹å™¨å±‚ï¼ŒæŠŠå®¹å™¨é«˜åº¦æ’‘èµ·ï¼Œè¾¾åˆ°äº†æ¸…ç†æµ®åŠ¨çš„æ•ˆæœã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">.news &#123;</div><div class="line">    background-color: gray;</div><div class="line">    border: solid <span class="number">1</span>px black;</div><div class="line">    overflow: hidden;</div><div class="line">    *zoom: <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.news img &#123;</div><div class="line">	float: left;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.news p &#123;</div><div class="line">	float: right;</div><div class="line">&#125;</div><div class="line"></div><div class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"news"</span>&gt;</div><div class="line">    &lt;img src=<span class="string">"news-pic.jpg"</span> /&gt;</div><div class="line">    &lt;p&gt;some text&lt;<span class="regexp">/p&gt;</span></div><div class="line"><span class="regexp">&lt;/</span>div&gt;</div></pre></td></tr></table></figure>
<p> ã€€</p>
<p><strong>æ–¹æ³•ä¸‰ï¼šç»™æµ®åŠ¨çš„å…ƒç´ çš„å®¹å™¨æ·»åŠ æµ®åŠ¨</strong></p>
<p>ç»™æµ®åŠ¨å…ƒç´ çš„å®¹å™¨ä¹Ÿæ·»åŠ ä¸Šæµ®åŠ¨å±æ€§å³å¯æ¸…é™¤å†…éƒ¨æµ®åŠ¨ï¼Œä½†æ˜¯è¿™æ ·ä¼šä½¿å…¶æ•´ä½“æµ®åŠ¨ï¼Œå½±å“å¸ƒå±€ï¼Œä¸æ¨èä½¿ç”¨ã€‚</p>
<p> ã€€</p>
<p><strong>æ–¹æ³•å››ï¼šä½¿ç”¨é‚»æ¥å…ƒç´ å¤„ç†</strong></p>
<p>ä»€ä¹ˆéƒ½ä¸åšï¼Œç»™æµ®åŠ¨å…ƒç´ åé¢çš„å…ƒç´ æ·»åŠ  clear å±æ€§ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">.news &#123;</div><div class="line">    background-color: gray;</div><div class="line">    border: solid <span class="number">1</span>px black;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.news img &#123;</div><div class="line">	float: left;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.news p &#123;</div><div class="line">	float: right;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.content &#123;</div><div class="line">	clear:both;</div><div class="line">&#125;</div><div class="line"></div><div class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"news"</span>&gt;</div><div class="line">    &lt;img src=<span class="string">"news-pic.jpg"</span> /&gt;</div><div class="line">    &lt;p&gt;some text&lt;<span class="regexp">/p&gt;</span></div><div class="line"><span class="regexp">    &lt;div class="content"&gt;&lt;/</span>div&gt;</div><div class="line">&lt;<span class="regexp">/div&gt;</span></div></pre></td></tr></table></figure>
<p> ã€€</p>
<p><strong>æ–¹æ³•äº”ï¼šä½¿ç”¨CSSçš„ :afterä¼ªå…ƒç´ </strong></p>
<p>ç»“åˆ :after ä¼ªå…ƒç´ ï¼ˆæ³¨æ„è¿™ä¸æ˜¯ä¼ªç±»ï¼Œè€Œæ˜¯ä¼ªå…ƒç´ ï¼Œä»£è¡¨ä¸€ä¸ªå…ƒç´ ä¹‹åæœ€è¿‘çš„å…ƒç´ ï¼‰å’Œ IEhack ï¼Œå¯ä»¥å®Œç¾å…¼å®¹å½“å‰ä¸»æµçš„å„å¤§æµè§ˆå™¨ï¼Œè¿™é‡Œçš„ IEhack æŒ‡çš„æ˜¯è§¦å‘ hasLayoutã€‚</p>
<p>ç»™æµ®åŠ¨å…ƒç´ çš„å®¹å™¨æ·»åŠ ä¸€ä¸ª clearfix çš„ classï¼Œç„¶åç»™è¿™ä¸ª class æ·»åŠ ä¸€ä¸ª :afterä¼ªå…ƒç´  å®ç°å…ƒç´ æœ«å°¾æ·»åŠ ä¸€ä¸ªçœ‹ä¸è§çš„å—å…ƒç´ ï¼ˆBlock elementï¼‰æ¸…ç†æµ®åŠ¨ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">.news &#123;</div><div class="line">    background-color: gray;</div><div class="line">    border: solid <span class="number">1</span>px black;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.news img &#123;</div><div class="line">	float: left;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.news p &#123;</div><div class="line">	float: right;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.clearfix:after &#123;</div><div class="line">    content: <span class="string">"020"</span>; </div><div class="line">    display: block; </div><div class="line">    height: <span class="number">0</span>; </div><div class="line">    clear: both; </div><div class="line">    visibility: hidden;  </div><div class="line">&#125;</div><div class="line"></div><div class="line">.clearfix &#123;</div><div class="line">    <span class="comment">/* è§¦å‘ hasLayout */</span> </div><div class="line">    *zoom: <span class="number">1</span>; </div><div class="line">&#125;</div><div class="line"></div><div class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"news clearfix"</span>&gt;</div><div class="line">    &lt;img src=<span class="string">"news-pic.jpg"</span> /&gt;</div><div class="line">    &lt;p&gt;some text&lt;<span class="regexp">/p&gt;</span></div><div class="line"><span class="regexp">&lt;/</span>div&gt;</div></pre></td></tr></table></figure>
<p>é€šè¿‡CSSä¼ªå…ƒç´ åœ¨å®¹å™¨çš„å†…éƒ¨å…ƒç´ æœ€åæ·»åŠ äº†ä¸€ä¸ªçœ‹ä¸è§çš„ç©ºæ ¼â€020â€æˆ–ç‚¹â€.â€ï¼Œå¹¶ä¸”èµ‹äºˆ clear å±æ€§æ¥æ¸…é™¤æµ®åŠ¨ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ä¸ºäº† IE6 å’Œ IE7æµè§ˆå™¨ï¼Œè¦ç»™ clearfix è¿™ä¸ª class æ·»åŠ ä¸€æ¡ <code>zoom:1;</code>  è§¦å‘ haslayoutã€‚</p>
<p>æˆ–è€…ä¸‹é¢è¿™ç§å†™æ³•ï¼ˆè§äºå°ç±³å®˜ç½‘ mi.comï¼‰ï¼š </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">.news &#123;</div><div class="line">    background-color: gray;</div><div class="line">    border: solid <span class="number">1</span>px black;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.news img &#123;</div><div class="line">	float: left;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.news p &#123;</div><div class="line">	float: right;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.clearfix:before,</div><div class="line">.clearfix:after &#123;</div><div class="line">    content: <span class="string">" "</span>;</div><div class="line">    display: table</div><div class="line">&#125;</div><div class="line"></div><div class="line">.clearfix:after &#123;</div><div class="line">    clear: both</div><div class="line">&#125;</div><div class="line"></div><div class="line">.clearfix &#123;</div><div class="line">    *zoom: <span class="number">1</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"news clearfix"</span>&gt;</div><div class="line">    &lt;img src=<span class="string">"news-pic.jpg"</span> /&gt;</div><div class="line">    &lt;p&gt;some text&lt;<span class="regexp">/p&gt;</span></div><div class="line"><span class="regexp">&lt;/</span>div&gt;</div></pre></td></tr></table></figure>
<p>ã€€</p>
<p><strong>æ€»ç»“</strong></p>
<p>é€šè¿‡ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬ä¸éš¾å‘ç°æ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•å¯ä»¥åˆ†æˆä¸¤ç±»ï¼š</p>
<p>ä¸€æ˜¯åˆ©ç”¨ clear å±æ€§ï¼ŒåŒ…æ‹¬åœ¨æµ®åŠ¨å…ƒç´ æœ«å°¾æ·»åŠ ä¸€ä¸ªå¸¦æœ‰ <code>clear: both</code> å±æ€§çš„ç©º div æ¥é—­åˆå…ƒç´ ï¼Œå…¶å®åˆ©ç”¨ :after  ä¼ªå…ƒç´ çš„æ–¹æ³•ä¹Ÿæ˜¯åœ¨å…ƒç´ æœ«å°¾æ·»åŠ ä¸€ä¸ªå†…å®¹ä¸ºä¸€ä¸ªç‚¹å¹¶å¸¦æœ‰ <code>clear: both</code> å±æ€§çš„å…ƒç´ å®ç°çš„ã€‚</p>
<p>äºŒæ˜¯è§¦å‘æµ®åŠ¨å…ƒç´ çˆ¶å…ƒç´ çš„ BFC (Block Formatting Contexts, å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡)ï¼Œä½¿åˆ°è¯¥çˆ¶å…ƒç´ å¯ä»¥åŒ…å«æµ®åŠ¨å…ƒç´ ï¼Œå…³äºè¿™ä¸€ç‚¹ã€‚</p>
<p> ã€€</p>
<p><strong>æ¨è</strong></p>
<p>åœ¨ç½‘é¡µä¸»è¦å¸ƒå±€æ—¶ä½¿ç”¨ :after ä¼ªå…ƒç´ æ–¹æ³•å¹¶ä½œä¸ºä¸»è¦æ¸…ç†æµ®åŠ¨æ–¹å¼ï¼›åœ¨å°æ¨¡å—å¦‚ ul é‡Œä½¿ç”¨ <code>overflow:hidden;</code>ï¼ˆç•™æ„å¯èƒ½äº§ç”Ÿçš„éšè—æº¢å‡ºå…ƒç´ é—®é¢˜ï¼‰ï¼›å¦‚æœæœ¬èº«å°±æ˜¯æµ®åŠ¨å…ƒç´ åˆ™å¯è‡ªåŠ¨æ¸…é™¤å†…éƒ¨æµ®åŠ¨ï¼Œæ— éœ€æ ¼å¤–å¤„ç†ï¼›æ­£æ–‡ä¸­ä½¿ç”¨é‚»æ¥å…ƒç´ æ¸…ç†ä¹‹å‰çš„æµ®åŠ¨ã€‚</p>
<p>æœ€åå¯ä»¥ä½¿ç”¨ç›¸å¯¹å®Œç¾çš„ :after ä¼ªå…ƒç´ æ–¹æ³•æ¸…ç†æµ®åŠ¨ï¼Œæ–‡æ¡£ç»“æ„æ›´åŠ æ¸…æ™°ã€‚</p>

          
        
      
    </div>
    
    
    
    <div>
    
    <div>
    
    </div>

    <div>
      
    </div>
    
    

    

    
    
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/07/OC-Swift-è·å–å¼•ç”¨è®¡æ•°-ReatinCount/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coder bruce">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bruce's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/07/OC-Swift-è·å–å¼•ç”¨è®¡æ•°-ReatinCount/" itemprop="url">OC, Swift è·å–å¼•ç”¨è®¡æ•° ReatinCount</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-08-07T08:59:26+08:00">
                2018-08-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOSå¼€å‘/" itemprop="url" rel="index">
                    <span itemprop="name">iOSå¼€å‘</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>è°ƒè¯•æ—¶å¶å°”éœ€è¦ç”¨åˆ°å¼•ç”¨è®¡æ•°å™¨ï¼ŒæŸ¥çœ‹å¯¹è±¡çš„å¼•ç”¨æ¬¡æ•°æ¥æ¨æ–­æ˜¯å¦å­˜åœ¨å†…å­˜æ³„æ¼ï¼Œä½¿ç”¨ <code>Objective-C</code> çš„è¯å¯ä»¥ç”¨ä¸‹åˆ—æ–¹å¼è·å–å¼•ç”¨è®¡æ•°ã€‚</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// OCæ–¹æ³•å¦‚ä¸‹</span></div><div class="line"><span class="comment">// ç¬¬ä¸€ç§æ–¹å¼ï¼ŒKVC</span></div><div class="line">[obj valueForKey:<span class="string">@"retainCount"</span>]  </div><div class="line"></div><div class="line"><span class="comment">// ç¬¬äºŒç§æ–¹å¼ï¼ŒRunTime</span></div><div class="line">OBJC_EXTERN <span class="keyword">int</span> _objc_rootRetainCount(<span class="keyword">id</span>);  </div><div class="line">_objc_rootRetainCount(obj)</div><div class="line"></div><div class="line"><span class="comment">// ç¬¬ä¸‰ç§æ–¹å¼</span></div><div class="line"><span class="built_in">CFGetRetainCount</span>((__bridge <span class="built_in">CFTypeRef</span>)(obj))</div></pre></td></tr></table></figure>
<p>ã€€<br>ä½¿ç”¨ <code>Swift</code> çš„è¯å¯ä»¥ç”¨ä¸‹åˆ—æ–¹å¼è·å–å¼•ç”¨è®¡æ•°ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Swiftä¸­æ–¹æ³•</span></div><div class="line"><span class="keyword">let</span> <span class="built_in">count</span> = <span class="type">CFGetRetainCount</span>(<span class="keyword">self</span>)</div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    
    <div>
    
    <div>
    
    </div>

    <div>
      
    </div>
    
    

    

    
    
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/03/iOSä¸­çš„æ•°å­—å­—ç¬¦ä¸²æ ¼å¼åŒ–/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coder bruce">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bruce's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/03/iOSä¸­çš„æ•°å­—å­—ç¬¦ä¸²æ ¼å¼åŒ–/" itemprop="url">iOSä¸­çš„æ•°å­—å­—ç¬¦ä¸²æ ¼å¼åŒ–</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-08-03T12:30:57+08:00">
                2018-08-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOSå¼€å‘/" itemprop="url" rel="index">
                    <span itemprop="name">iOSå¼€å‘</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ç”±äºé¡¹ç›®ä¸­éœ€è¦å°†æ•°å­—è½¬ä¸ºè´§å¸æ ¼å¼ï¼šï¿¥123,456,789.00ï¼Œå¹¸å¥½iOSä¸­æœ‰ä¸“é—¨å¤„ç†æ•°å­—è½¬å­—ç¬¦ä¸²æ—¶æ ¼å¼åŒ–çš„å‡½æ•°ã€‚</p>
<p>åœ¨iOSä¸­æˆ‘ä»¬å¯ä»¥é€šè¿‡NSDateFormatteræ¥è®¾ç½®è¾“å‡ºNSDateçš„æ ¼å¼ã€‚ç›¸æ¯”NSDateFormatterçš„å¤§åé¼é¼ï¼ŒNSNumberFormatterå¥½åƒçŸ¥é“çš„äººå°±ä¸å¤šäº†ã€‚å…¶å®é€šè¿‡NSNumberFormatterï¼ŒåŒæ ·å¯ä»¥è®¾ç½®NSNumberè¾“å‡ºçš„æ ¼å¼ã€‚ä¾‹å¦‚å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSNumberFormatter</span> *formatter = [[<span class="built_in">NSNumberFormatter</span> alloc] init];  </div><div class="line">formatter.numberStyle = <span class="built_in">NSNumberFormatterDecimalStyle</span>;  </div><div class="line"><span class="built_in">NSString</span> *string = [formatter stringFromNumber:[<span class="built_in">NSNumber</span> numberWithInt:<span class="number">123456789</span>]];  </div><div class="line"><span class="built_in">NSLog</span>(<span class="string">@"Formatted number string:%@"</span>, string);</div></pre></td></tr></table></figure>
<p><strong>è¾“å‡ºç»“æœä¸ºï¼š[1223:403] Formatted number string:123,456,789</strong></p>
<p>å…¶ä¸­NSNumberFormatterç±»æœ‰ä¸ªå±æ€§numberStyleï¼Œå®ƒæ˜¯ä¸€ä¸ªæšä¸¾å‹ï¼Œè®¾ç½®ä¸åŒçš„å€¼å¯ä»¥è¾“å‡ºä¸åŒçš„æ•°å­—æ ¼å¼ã€‚è¯¥æšä¸¾åŒ…æ‹¬ï¼š<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="built_in">NS_ENUM</span>(<span class="built_in">NSUInteger</span>, <span class="built_in">NSNumberFormatterStyle</span>) &#123;</div><div class="line">    <span class="built_in">NSNumberFormatterNoStyle</span> = kCFNumberFormatterNoStyle,</div><div class="line">    <span class="built_in">NSNumberFormatterDecimalStyle</span> = kCFNumberFormatterDecimalStyle,</div><div class="line">    <span class="built_in">NSNumberFormatterCurrencyStyle</span> = kCFNumberFormatterCurrencyStyle,</div><div class="line">    <span class="built_in">NSNumberFormatterPercentStyle</span> = kCFNumberFormatterPercentStyle,</div><div class="line">    <span class="built_in">NSNumberFormatterScientificStyle</span> = kCFNumberFormatterScientificStyle,</div><div class="line">    <span class="built_in">NSNumberFormatterSpellOutStyle</span> = kCFNumberFormatterSpellOutStyle,</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>å„ä¸ªæšä¸¾å¯¹åº”è¾“å‡ºæ•°å­—æ ¼å¼çš„æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p>[1243:403] Formatted number string:123456789<br>[1243:403] Formatted number string:123,456,789<br>[1243:403] Formatted number string:ï¿¥123,456,789.00<br>[1243:403] Formatted number string:-539,222,988%<br>[1243:403] Formatted number string:1.23456789E8<br>[1243:403] Formatted number string:ä¸€äº¿äºŒåƒä¸‰ç™¾å››åäº”ä¸‡å…­åƒä¸ƒç™¾å…«åä¹</p>
<p>å…¶ä¸­ç¬¬ä¸‰é¡¹å’Œæœ€åä¸€é¡¹çš„è¾“å‡ºä¼šæ ¹æ®ç³»ç»Ÿè®¾ç½®çš„è¯­è¨€åŒºåŸŸçš„ä¸åŒè€Œä¸åŒã€‚</p>
<p><strong>å¦å¤–ä»‹ç»ä¸€äº›ä¸å¸¸è§çš„æ•°å­—è½¬å­—ç¬¦ä¸²çš„ç”¨æ³•ï¼š</strong></p>
<p>1ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªæµ®ç‚¹ç±»å‹çš„æ•°å­—è½¬æˆStringå­—ç¬¦ä¸²çš„ä¾‹å­<br>Swift:<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> f = <span class="number">123.32342342</span></div><div class="line"><span class="keyword">var</span> s = <span class="string">"\(f)"</span>            <span class="comment">// 123.32342342</span></div><div class="line"><span class="keyword">var</span> s1 = <span class="type">String</span>(f)        <span class="comment">// 123.32342342</span></div></pre></td></tr></table></figure></p>
<p>Objective-C:<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">float</span> f = <span class="number">123.32342342</span>;</div><div class="line"><span class="built_in">NSString</span> *s = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%f"</span>, f];    <span class="comment">// 123.32342342</span></div></pre></td></tr></table></figure></p>
<p>2ï¼Œå¦‚æœè¦ä¿ç•™ä¸¤ä½å°æ•°<br>Swift:<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> f = <span class="number">123.32342342</span></div><div class="line"><span class="keyword">var</span> s = <span class="type">String</span>(format: <span class="string">"%.2f"</span>, f)   <span class="comment">// 123.32</span></div></pre></td></tr></table></figure></p>
<p>Objective-C:<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">float</span> f = <span class="number">123.32342342</span>;</div><div class="line"><span class="built_in">NSString</span> *s = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%.2f"</span>, f];   <span class="comment">// 123.32</span></div></pre></td></tr></table></figure></p>
<p>3ï¼Œè½¬æˆåå…­è¿›åˆ¶æ ¼å¼å­—ç¬¦ä¸²<br>Swift:<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> i = <span class="number">255</span></div><div class="line"><span class="keyword">let</span> s = <span class="type">String</span>(format: <span class="string">"%x"</span>, i)  <span class="comment">// ff</span></div></pre></td></tr></table></figure></p>
<p>Objective-C:<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> i = <span class="number">255</span>;</div><div class="line"><span class="built_in">NSString</span> *s = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%x"</span>, f];   <span class="comment">// ff</span></div></pre></td></tr></table></figure></p>
<p>4ï¼Œä¸è¶³å…­ä½å‰é¢è¡¥0<br>Swift:<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> i = <span class="number">255</span></div><div class="line"><span class="keyword">let</span> s = <span class="type">String</span>(format: <span class="string">"%06d"</span>, i)   <span class="comment">// 000255</span></div></pre></td></tr></table></figure></p>
<p>Objective-C:<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> i = <span class="number">255</span>;</div><div class="line"><span class="built_in">NSString</span> *s = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%06d"</span>, i];   <span class="comment">// 000255</span></div></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    
    <div>
    
    <div>
    
    </div>

    <div>
      
    </div>
    
    

    

    
    
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/31/è®¿é—®GitHubå¾ˆæ…¢çš„é—®é¢˜è§£å†³/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coder bruce">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bruce's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/31/è®¿é—®GitHubå¾ˆæ…¢çš„é—®é¢˜è§£å†³/" itemprop="url">è®¿é—®GitHubå¾ˆæ…¢çš„é—®é¢˜è§£å†³</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-07-31T15:35:00+08:00">
                2018-07-31
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOSå¼€å‘/" itemprop="url" rel="index">
                    <span itemprop="name">iOSå¼€å‘</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æœ€è¿‘åŠå…¬ç½‘ç»œä» GitHub ä¸Šæ‹‰å–ä»£ç é€Ÿåº¦å·¨æ…¢ï¼Œå¾ˆå¤šæ—¶å€™éƒ½æ˜¯ç›´æ¥è¿æ¥é”™è¯¯ã€‚</p>
<p>ç™¾åº¦äº†ä¸€ä¸‹ï¼Œè¯´æ˜¯ Github çš„æŸäº›åŸŸåçš„ DNS è§£æè¢«æ±¡æŸ“äº†ã€‚è§£å†³æ–¹æ¡ˆå°±æ˜¯æŒ‚ä»£ç†ï¼ˆVPNï¼‰ï¼Œæˆ–è€…ç›´æ¥ä¿®æ”¹ hostsï¼Œç»•è¿‡ DNS è§£æã€‚</p>
<p>æˆ‘ç”¨äº† VPN ä¹‹åï¼Œè¿˜æ˜¯ä¼šå‡ºç°è®¿é—®å¾ˆæ…¢çš„é—®é¢˜ï¼Œäºæ˜¯è¯•äº†ç¬¬äºŒç§æ–¹æ¡ˆï¼Œç›®å‰æ˜¯å¯ä»¥æ­£å¸¸è®¿é—®çš„ã€‚</p>
<p>å…·ä½“æ–¹æ³•å°±æ˜¯å°†ä¸‹é¢ä»£ç ç›´æ¥å†™å…¥ hosts æ–‡ä»¶é‡Œã€‚Mac çš„ hosts æ–‡ä»¶è·¯å¾„ä¸º /etc/hosts ã€‚Windows çš„æ˜¯ C:\Windows\System32\Drivers\etc\hosts ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># GitHub Start</span></div><div class="line">192.30.253.112 github.com</div><div class="line">192.30.253.119 gist.github.com</div><div class="line">151.101.100.133 assets-cdn.github.com</div><div class="line">151.101.100.133 raw.githubusercontent.com</div><div class="line">151.101.100.133 gist.githubusercontent.com</div><div class="line">151.101.100.133 cloud.githubusercontent.com</div><div class="line">151.101.100.133 camo.githubusercontent.com</div><div class="line">151.101.100.133 avatars0.githubusercontent.com</div><div class="line">151.101.100.133 avatars1.githubusercontent.com</div><div class="line">151.101.100.133 avatars2.githubusercontent.com</div><div class="line">151.101.100.133 avatars3.githubusercontent.com</div><div class="line">151.101.100.133 avatars4.githubusercontent.com</div><div class="line">151.101.100.133 avatars5.githubusercontent.com</div><div class="line">151.101.100.133 avatars6.githubusercontent.com</div><div class="line">151.101.100.133 avatars7.githubusercontent.com</div><div class="line">151.101.100.133 avatars8.githubusercontent.com</div><div class="line"><span class="comment"># GitHub End</span></div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    
    <div>
    
    <div>
    
    </div>

    <div>
      
    </div>
    
    

    

    
    
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/27/è®°ä¸€æ¬¡-IQKeyboardManager-å¤±æ•ˆå¯¼è‡´è¾“å…¥æ¡†è¢«é”®ç›˜é®æŒ¡çš„é—®é¢˜/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coder bruce">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bruce's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/27/è®°ä¸€æ¬¡-IQKeyboardManager-å¤±æ•ˆå¯¼è‡´è¾“å…¥æ¡†è¢«é”®ç›˜é®æŒ¡çš„é—®é¢˜/" itemprop="url">è®°ä¸€æ¬¡ IQKeyboardManager å¤±æ•ˆå¯¼è‡´è¾“å…¥æ¡†è¢«é”®ç›˜é®æŒ¡çš„é—®é¢˜</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-07-27T09:32:12+08:00">
                2018-07-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOSå¼€å‘/" itemprop="url" rel="index">
                    <span itemprop="name">iOSå¼€å‘</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æœ€è¿‘å¼€å‘çš„é¡µé¢ä¸­æœ‰ä¸€ä¸ªè¾“å…¥è®¢å•å·çš„åŠŸèƒ½ï¼Œç”±äºäº§å“è®¾è®¡æ—¶å°†è¾“å…¥æ¡†æ”¾åœ¨é¡µé¢é ä¸‹çš„ä½ç½®ï¼Œæ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç”¨æˆ·éœ€è¦è¾“å…¥æ—¶ï¼Œå¼¹å‡ºçš„é”®ç›˜ä¼šå°†å…¶é®æŒ¡ã€‚ä½†æ˜¯é¡¹ç›®ä¸­å·²ç»å¼•å…¥äº† IQKeyboardManager ç¬¬ä¸‰æ–¹åº“æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆå®ƒæ²¡æœ‰èµ·ä½œç”¨ï¼Ÿ</p>
<h4 id="ä¿®å¤bugçš„ç¬¬ä¸€æ­¥ï¼š"><a href="#ä¿®å¤bugçš„ç¬¬ä¸€æ­¥ï¼š" class="headerlink" title="ä¿®å¤bugçš„ç¬¬ä¸€æ­¥ï¼š"></a>ä¿®å¤bugçš„ç¬¬ä¸€æ­¥ï¼š</h4><p>æ€€ç–‘æ˜¯é…ç½®ä¸å¯¹ï¼Œç»è¿‡æŸ¥é˜…èµ„æ–™å‘ç°ï¼Œåœ¨é»˜è®¤é…ç½®ä¸‹ IQKeyboardManager å°±ä¼šèµ·ä½œç”¨ï¼Œæ— éœ€ç‰¹æ®Šé…ç½®ã€‚</p>
<h4 id="ç¬¬äºŒæ­¥ï¼š"><a href="#ç¬¬äºŒæ­¥ï¼š" class="headerlink" title="ç¬¬äºŒæ­¥ï¼š"></a>ç¬¬äºŒæ­¥ï¼š</h4><p>å‘ç°ç‚¹å‡»ç­›é€‰æ—¶ï¼Œå¼¹å‡ºçš„è§†å›¾ç›´æ¥åŠ åœ¨äº† keyWindow ä¸Šï¼Œç»è¿‡ä¿®æ”¹ï¼Œå°†å…¶æ”¾åœ¨å½“å‰æ§åˆ¶å™¨çš„å¯¼èˆªæ§åˆ¶å™¨çš„ View ä¸Šï¼Œå‘ç°å¶å°”å¯ä»¥ä¸é®æŒ¡é”®ç›˜ã€‚ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§çŠ¶å†µï¼ŸæŒç»­è·Ÿè¿›ï¼Œåœ¨ IQKeyboardManager æ ¸å¿ƒä»£ç ä¸­è¿›è¡Œæ–­ç‚¹è°ƒè¯•ï¼Œå‘ç° IQKeyboardManager ä¼šæŸ¥æ‰¾æ–‡æœ¬è¾“å…¥æ¡†æ§ä»¶æ‰€åœ¨çš„ Controller ï¼Œè€Œä¸”è¿˜ä¼šæŸ¥æ‰¾æ–‡æœ¬è¾“å…¥æ¡†æ§ä»¶æ˜¯å¦å­˜åœ¨äº ScrollView åŠå…¶å­ç±»ä¸­ã€‚å¦‚æœæœ‰ ScrollView ï¼Œä¼šæ”¹å˜ ScrollView çš„ ContentOffset æ¥é¿å…è¾“å…¥æ¡†è¢«é”®ç›˜é®æŒ¡ã€‚</p>
<h4 id="ç¬¬ä¸‰æ­¥ï¼š"><a href="#ç¬¬ä¸‰æ­¥ï¼š" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼š"></a>ç¬¬ä¸‰æ­¥ï¼š</h4><p>æŸ¥çœ‹ ScrollView é…ç½®æ˜¯å¦å¼‚å¸¸ï¼Œé¡¹ç›®ä»£ç ä¸­å¹¶æœªå‘ç° ScrollView æœ‰é…ç½®å¼‚å¸¸çš„æƒ…å†µï¼Œæ— å¥ˆåªå¥½ç»§ç»­æ–­ç‚¹è°ƒè¯•ï¼Œå‘ç°ä¸€ä¸ªè§„å¾‹ï¼šå½“è¾“å…¥æ¡†è¢«é®æŒ¡æ—¶ï¼ŒIQKeyboardManager ä¸­è·å–åˆ° ScrollView çš„ ContentSize æ€»æ˜¯ {0, 0}ï¼Œå›åˆ°é¡¹ç›®ä»£ç é‡Œå‘ç°åœ¨å¤§å±å¹•æ‰‹æœºä¸Šç¡®å®æ²¡æœ‰è®¾ç½® ContentSize å±æ€§ï¼Œå°å±å¹•æ‰‹æœºä¸Šæ‰ä¼šé…ç½®è¿™ä¸ªå±æ€§ã€‚åœ¨ä»£ç ä¸­è®¾ç½®ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒScrollView çš„ ContentSize ç­‰äºå…¶ Sizeï¼Œé—®é¢˜è§£å†³ã€‚</p>
<h4 id="å¤‡æ³¨ï¼š"><a href="#å¤‡æ³¨ï¼š" class="headerlink" title="å¤‡æ³¨ï¼š"></a>å¤‡æ³¨ï¼š</h4><p>å¼€å‘ç¯å¢ƒï¼šXcode 9.4.1ï¼ŒiOS 12 Public beta 3ï¼ŒiPhone 6s Plus ï¼ˆä¸çŸ¥æ­¤bugå‡ºç°æ˜¯å¦å’Œå¼€å‘ç¯å¢ƒæœ‰å…³ï¼‰</p>

          
        
      
    </div>
    
    
    
    <div>
    
    <div>
    
    </div>

    <div>
      
    </div>
    
    

    

    
    
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/25/Swiftå®ç°å­—ç¬¦ä¸²å€’åºæ’åˆ—/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coder bruce">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bruce's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/25/Swiftå®ç°å­—ç¬¦ä¸²å€’åºæ’åˆ—/" itemprop="url">Swiftå®ç°å­—ç¬¦ä¸²å€’åºæ’åˆ—ï¼ŒStringå­—ç¬¦ä¸²åè½¬</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-07-25T09:11:24+08:00">
                2018-07-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOSå¼€å‘/" itemprop="url" rel="index">
                    <span itemprop="name">iOSå¼€å‘</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>ï¼ˆ2018.7.30æ›´æ–°ï¼‰</strong><br>æœ€è¿‘åœ¨çœ‹ Swift çš„ä¸€ç¯‡ <a href="https://juejin.im/post/5ab4b2a66fb9a028e33b60d6" target="_blank" rel="external">åšå®¢</a> çš„æ—¶å€™ï¼Œå‘ç°äº†ä¸€ä¸ªç¥çº§ APIï¼šreverse()ï¼Œè¿™ä¸ªå‡½æ•°ç”¨æ¥åè½¬ä¸€ä¸ªåºåˆ—ï¼ŒSwift4 ä¸­ String åšäº†ä¸€äº›è°ƒæ•´ã€‚æˆ‘ä»¬å¯ä»¥ç›´æ¥å°† String ä½œä¸ºä¸€ä¸ªåºåˆ—è¿›è¡Œåè½¬ï¼Œç„¶åä½¿ç”¨ String çš„ä¾¿åˆ©åˆå§‹åŒ–æ–¹æ³•å°†åè½¬åçš„åºåˆ—è½¬ä¸º String ç±»å‹ï¼Œæ•´ä¸ªè¿‡ç¨‹åªéœ€è¦ä¸€è¡Œä»£ç ï¼Œè€Œä¸”æ€§èƒ½æ¯”æˆ‘ä»¬è‡ªè¡Œå°è£…æ–¹æ³•è¦é«˜ä¸å°‘ï¼Œå¦‚æœä½ æ­£åœ¨æŸ¥æ‰¾ Swift ä¸­åè½¬å­—ç¬¦ä¸²çš„æ–¹æ³•ï¼Œè¯·çœ‹ä¸‹é¢ç¤ºä¾‹ä»£ç ã€‚ç„¶åå°±ä¸å¿…å†å¾€ä¸‹çœ‹äº†ã€‚ã€‚ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> abc: <span class="type">String</span> = <span class="string">"abc"</span></div><div class="line"><span class="built_in">print</span>(<span class="type">String</span>(abc.reversed()))</div><div class="line"><span class="comment">// cba</span></div></pre></td></tr></table></figure>
<p>ã€€<br>æœ€è¿‘åœ¨å·¥ä½œçš„æ—¶å€™ï¼Œé‡åˆ°ä¸€ä¸ªéœ€æ±‚ï¼Œå¸Œæœ›èƒ½å°†å­—ç¬¦ä¸²å€’åºæ’åˆ—å¹¶è¾“å‡ºã€‚</p>
<p>å…ˆæ¥çœ‹ä¸€ä¸‹OCçš„å®ç°æ–¹å¼ï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// å­—ç¬¦ä¸²å€’åº è¾“å…¥"1234" è¾“å‡º"4321"</span></div><div class="line">- (<span class="built_in">NSString</span> *)invertString:(<span class="built_in">NSString</span> *)str &#123;</div><div class="line"></div><div class="line">    <span class="built_in">NSMutableString</span> *newString = [<span class="built_in">NSMutableString</span> string];</div><div class="line"></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.length; i ++) &#123;</div><div class="line"></div><div class="line">        [newString appendString:[str substringWithRange:<span class="built_in">NSMakeRange</span>(str.length-i<span class="number">-1</span>, <span class="number">1</span>)]];</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> newString;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// å•è¯é€†åº è¾“å…¥"hello world" è¾“å‡º"world hello"</span></div><div class="line">- (<span class="built_in">NSString</span> *)invertWord:(<span class="built_in">NSString</span> *)str &#123;</div><div class="line"></div><div class="line">    <span class="built_in">NSArray</span> *stringArr = [str componentsSeparatedByString:<span class="string">@" "</span>];</div><div class="line"></div><div class="line">    <span class="built_in">NSMutableArray</span> *newStringArr = [<span class="built_in">NSMutableArray</span> array];</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; stringArr.count; i ++) &#123;</div><div class="line"></div><div class="line">        [newStringArr addObject:stringArr[stringArr.count - i - <span class="number">1</span>]];</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="built_in">NSString</span> *string = [newStringArr componentsJoinedByString:<span class="string">@" "</span>];</div><div class="line"></div><div class="line">    <span class="keyword">return</span> string;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ã€€<br>æå®šä¹‹åï¼Œæˆ‘çµæœºä¸€åŠ¨ï¼Œåˆæœ‰å¥½äº›å¤©æ²¡æœ‰ç¢° Swift äº†ï¼Œè¿™æ ·ä¸‹å»å²‚ä¸æ˜¯è¦è’åºŸï¼Ÿèµ¶ç´§æ‰“å¼€ Playgroundï¼Œç”¨ Swift å®ç°ä¸€æ³¢ã€‚</p>
<p>å¥½å§ï¼Œæˆ‘æ‰¿è®¤æˆ‘æ‡’ç™Œå‘ä½œäº†ï¼Œæ‰“å¼€ <a href="https://objectivec2swift.com/#/converter/" target="_blank" rel="external">objectivec2swift.com</a> ï¼Œå…ˆæ¥ä¸ªè‡ªåŠ¨è½¬æ¢ï¼Œçœ‹çœ‹éƒ½å‘ç”Ÿäº†å“ªäº›å˜åŒ–ï¼Œç»“æœå¾ˆå¿«å°±å‡ºæ¥äº†ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// å­—ç¬¦ä¸²å€’åº è¾“å…¥"1234" è¾“å‡º"4321"</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">invertString</span><span class="params">(<span class="number">_</span> str: String?)</span></span> -&gt; <span class="type">String</span>? &#123;</div><div class="line">    <span class="keyword">var</span> newString = <span class="string">""</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;(str?.<span class="built_in">count</span> ?? <span class="number">0</span>) &#123;</div><div class="line">        newString += (str <span class="keyword">as</span> <span class="type">NSString</span>?)?.substring(with: <span class="type">NSRange</span>(location: (str?.<span class="built_in">count</span> ?? <span class="number">0</span>) - i - <span class="number">1</span>, length: <span class="number">1</span>)) ?? <span class="string">""</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> newString</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// å•è¯é€†åº è¾“å…¥"hello world" è¾“å‡º"world hello"</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">invertWord</span><span class="params">(<span class="number">_</span> str: String?)</span></span> -&gt; <span class="type">String</span>? &#123;</div><div class="line">    <span class="keyword">let</span> stringArr = str?.components(separatedBy: <span class="string">" "</span>)</div><div class="line">    <span class="keyword">var</span> newStringArr: [<span class="type">AnyHashable</span>] = []</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;(stringArr?.<span class="built_in">count</span> ?? <span class="number">0</span>) &#123;</div><div class="line">        newStringArr.append(stringArr?[(stringArr?.<span class="built_in">count</span> ?? <span class="number">0</span>) - i - <span class="number">1</span>])</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">let</span> string = newStringArr.joined(separator: <span class="string">" "</span>)</div><div class="line">    <span class="keyword">return</span> string</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ã€€<br>ä¸è¿‡å°†ä»£ç æ‹·è´åˆ° Playgroundï¼ˆXcode10 beta4ï¼‰é‡Œé¢ï¼Œä»£ç æ˜¯æ— æ³•ç¼–è¯‘é€šè¿‡çš„ã€‚è€Œä¸”ç¿»è¯‘çš„ä»£ç é‡Œï¼Œæœ‰å¾ˆå¤šæ¡¥æ¥ OC çš„åœ°æ–¹ï¼Œè¿™ç®€ç›´æ˜¯è¦é€¼æ­» Swifter å¼ºè¿«ç—‡å•Šï¼</p>
<p>é¢å¯¹è¿™ç§çŠ¶å†µï¼Œè‚¯å®šæ˜¯ä¸èƒ½è½»æ˜“è®¤è¾“æ»´ï¼Œæ¥å§ï¼Œæ‰‹åŠ¨æ¨¡å¼èµ°èµ·ã€‚ä¸€æ®µçœ‹ä¼¼ç®€å•çš„ä»£ç ï¼Œä¸Šæ‰‹å†™çš„æ—¶å€™æ‰å‘ç°ï¼ŒSwift é‡Œå¯¹ String ç›¸å…³çš„ API æ”¹åŠ¨ç¡®å®æ˜¯å¤ªå¤§äº†ï¼Œè¿å†™ä¸ªå®Œæ•´çš„è¯­å¥éƒ½å›°éš¾äº†ã€‚è¿™ä¹Ÿæ€ªæˆ‘å¹³æ—¶å¤ªçœ¼é«˜æ‰‹ä½ï¼Œå“ï¼<br>çœ¼çœ‹é¥­ç‚¹å·²ç»è¿‡å»ï¼Œç¡¬ç€å¤´çš®ä¹Ÿè¦å¾€ä¸‹æäº†ã€‚æ—¢ç„¶ API æ”¹åŠ¨å¤§ï¼Œä¸å¦¨æŠŠ API <a href="Strings and Characters">æ–‡æ¡£</a>å…ˆè¿‡ä¸€éã€‚</p>
<p>ä¸€ä»½å¤–å–é€åˆ°çš„æ—¶é—´ï¼Œä¸€å¥— Swifty çš„ä»£ç å°±å‡ºç‚‰äº†ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// å®Œå…¨é€†åº è¾“å…¥ "1234" è¾“å‡º "4321"</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">invertString</span><span class="params">(<span class="number">_</span> s: String?)</span></span> -&gt; <span class="type">String</span>? &#123;</div><div class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> str = s <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">var</span> string = <span class="string">""</span></div><div class="line">    <span class="keyword">let</span> <span class="built_in">count</span> = str.<span class="built_in">count</span></div><div class="line"></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;<span class="built_in">count</span> &#123;</div><div class="line">        <span class="keyword">let</span> idx = <span class="type">String</span>.<span class="type">Index</span>(encodedOffset: <span class="built_in">count</span> - i - <span class="number">1</span>)</div><div class="line">        <span class="keyword">let</span> char = str[idx]</div><div class="line">        string.append(char)</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> string</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// å•è¯é€†åº è¾“å…¥"hello world" è¾“å‡º"world hello"</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">invertWord</span><span class="params">(<span class="number">_</span> s: String?)</span></span> -&gt; <span class="type">String</span>? &#123;</div><div class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> str = s <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">let</span> stringArr = str.components(separatedBy: <span class="string">" "</span>)</div><div class="line">    <span class="keyword">var</span> newStringArr: [<span class="type">String</span>] = []</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;(stringArr.<span class="built_in">count</span>) &#123;</div><div class="line">        newStringArr.append(stringArr[(stringArr.<span class="built_in">count</span>) - i - <span class="number">1</span>])</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">let</span> string = newStringArr.joined(separator: <span class="string">" "</span>)</div><div class="line">    <span class="keyword">return</span> string</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ã€€<br>å…¶å® Swift çš„ä»£ç é£æ ¼æ˜¯è¶‹äºç®€å•åŒ–äº†ï¼Œè€Œä¸”æ˜“è¯»æ€§ä¹Ÿå¾ˆå¥½ï¼Œå¢å¼ºäº†ç±»å‹æ¨æ–­å’Œå¯é€‰ç±»å‹ï¼Œæ—¥åç»´æŠ¤èµ·æ¥ä¹Ÿä¼šå¾—å¿ƒåº”æ‰‹ã€‚</p>
<p>ç›®å‰ Swift çš„ API åŸºæœ¬å·²ç»å®Œå…¨è„±ç¦»äº†OCçš„è¯­æ³•é£æ ¼ï¼Œä½¿ç”¨å·¥å…·ç®€å•çš„å°†OCä»£ç è½¬æ¢æˆSwiftä»£ç çš„æ–¹å¼å·²ç»æ…¢æ…¢çš„è¡Œä¸é€šäº†ã€‚åˆšä»OCè½¬è¿‡æ¥çš„åŒå­¦ä¼°è®¡ä¼šä¸€è„¸æ‡µé€¼ï¼Œç›®å‰Swiftå‘å±•å·²ç»è¶‹äºæˆç†Ÿï¼ŒABIä¼°è®¡ä¸€å¹´å†…ä¹Ÿå¯ä»¥ç¨³å®šä¸‹æ¥ï¼Œå¹³æ—¶å¤šå…³æ³¨ï¼Œç”¨æ—¶ä¸æ‡µé€¼ ğŸ¤£ ã€‚</p>
<p>ä¼ é€é—¨ï¼š<a href="https://docs.swift.org/swift-book/LanguageGuide/TheBasics.html" target="_blank" rel="external">Swiftå®˜æ–¹æ–‡æ¡£</a></p>

          
        
      
    </div>
    
    
    
    <div>
    
    <div>
    
    </div>

    <div>
      
    </div>
    
    

    

    
    
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/10/Swiftä¸­importçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coder bruce">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bruce's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/10/Swiftä¸­importçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ/" itemprop="url">Swiftè¯­è¨€ä¸­ "@_exported import" å’Œ "import"  çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-07-10T16:43:29+08:00">
                2018-07-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ä»Šå¤©æµè§ˆVaporæºä»£ç çš„æ—¶å€™å‘ç°äº†ä¸€ä¸ªä¹‹å‰æ²¡æœ‰è§è¿‡çš„å…³é”®å­—ï¼š<code>@_exported</code></p>
<p>æŸ¥äº†ä¸€ä¸‹èµ„æ–™å‘ç°ï¼š</p>
<p><code>@_exported</code> ç”¨äºåœ¨è‡ªå·±æ¨¡å—ä¸­å¯¼å‡ºå…¶ä»–æ¨¡å—ã€‚</p>
<p>æ¯”å¦‚ï¼Œè‡ªå·±å®šä¹‰äº†ä¸€ä¸ª <code>A</code> æ¨¡å—ã€‚<br>åœ¨ <code>A</code> æ¨¡å—ä¸­å®šä¹‰ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@_exported <span class="keyword">import</span> UIKit</div></pre></td></tr></table></figure>
<p>å½“æˆ‘ä»¬å¼•å…¥ <code>A</code> æ¨¡å—ï¼ˆ<code>import A</code>ï¼‰æ—¶ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ <code>UIKit</code> ä¸­çš„ç¬¦å·ã€‚</p>

          
        
      
    </div>
    
    
    
    <div>
    
    <div>
    
    </div>

    <div>
      
    </div>
    
    

    

    
    
    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          
        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.png"
               alt="Coder bruce" />
          <p class="site-author-name" itemprop="name">Coder bruce</p>
           
              <p class="site-description motion-element" itemprop="description">hello world</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">65</span>
                <span class="site-state-item-name">æ—¥å¿—</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">åˆ†ç±»</span>
              
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">17</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/a1049145827" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.jianshu.com/u/ff82b16c5264" target="_blank" title="ç®€ä¹¦">
                  
                    <i class="fa fa-fw fa-heartbeat"></i>
                  
                    
                      ç®€ä¹¦
                    
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Coder bruce</span>
</div>



<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_pv">
  æœ¬ç«™è®¿å®¢æ•°:<span id="busuanzi_value_site_pv"></span>
</span>
</div>







<div class="theme-info">
  <!-- <div class="powered-by"></div> -->
  <span class="post-count">åšå®¢å…¨ç«™å…±54.6kå­—</span>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>




  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
<!-- é¡µé¢ç‚¹å‡»å°çº¢å¿ƒ -->
<script type="text/javascript" src="/js/src/love.js"></script>